(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7803],{42868:(e,t,n)=>{Promise.resolve().then(n.bind(n,73242))},73242:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>d});var s=n(95155),l=n(12115);function d(){let[e,t]=(0,l.useState)([]),[n,d]=(0,l.useState)(!1);async function i(){d(!0);let e=await fetch("/api/admin/referrals/pending");t((await e.json()).data||[]),d(!1)}async function r(e,t){let n={};e&&(n.earningId=e),t&&(n.packageId=t);let s=await fetch("/api/admin/referrals/retry",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});(await s.json()).success?(alert("Retry scheduled"),i()):alert("Retry failed")}return(0,l.useEffect)(()=>{i()},[]),(0,s.jsxs)("div",{className:"container mx-auto p-6",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"Pending Referral Earnings"}),n&&(0,s.jsx)("div",{children:"Loading..."}),!n&&0===e.length&&(0,s.jsx)("div",{children:"No pending items"}),(0,s.jsxs)("table",{className:"w-full table-auto border-collapse",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{children:"id"}),(0,s.jsx)("th",{children:"user"}),(0,s.jsx)("th",{children:"amount"}),(0,s.jsx)("th",{children:"level"}),(0,s.jsx)("th",{children:"network"}),(0,s.jsx)("th",{children:"Wallet"}),(0,s.jsx)("th",{children:"Action"})]})}),(0,s.jsx)("tbody",{children:e.map(e=>(0,s.jsxs)("tr",{className:"border-t",children:[(0,s.jsx)("td",{children:e.id}),(0,s.jsx)("td",{children:e.email}),(0,s.jsx)("td",{children:e.amount}),(0,s.jsx)("td",{children:e.level}),(0,s.jsx)("td",{children:e.network}),(0,s.jsx)("td",{children:e.walletAddress}),(0,s.jsx)("td",{children:(0,s.jsx)("button",{className:"btn",onClick:()=>r(e.id),children:"Retry"})})]},e.id))})]})]})}}},e=>{e.O(0,[8441,3794,7358],()=>e(e.s=42868)),_N_E=e.O()}]);