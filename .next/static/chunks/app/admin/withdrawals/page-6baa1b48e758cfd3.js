(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[581],{4474:(e,t,s)=>{"use strict";s.d(t,{$:()=>d});var a=s(95155),r=s(12115),l=s(42442),i=s(18460),n=s(91337);let c=(0,i.F)("inline-flex items-center justify-center whitespace-nowrap rounded-lg text-sm font-semibold ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[#00ff00] focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 active:scale-95",{variants:{variant:{default:"bg-[#00ff00] text-black hover:bg-[#00cc00] shadow-md hover:shadow-lg",destructive:"bg-red-600 text-white hover:bg-red-700",outline:"border-2 border-[#00ff00] bg-transparent text-[#00ff00] hover:bg-[#00ff00] hover:text-black",secondary:"bg-gray-800 text-white hover:bg-gray-700",ghost:"text-gray-300 hover:bg-gray-800 hover:text-white",link:"text-[#00ff00] underline-offset-4 hover:underline hover:text-[#00cc00]"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-lg px-3 text-xs",lg:"h-12 rounded-lg px-8 text-base",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=r.forwardRef(({className:e,variant:t,size:s,asChild:r=!1,...i},d)=>{let o=r?l.DX:"button";return(0,a.jsx)(o,{className:(0,n.cn)(c({variant:t,size:s,className:e})),ref:d,...i})});d.displayName="Button"},38291:(e,t,s)=>{"use strict";s.d(t,{E:()=>n});var a=s(95155);s(12115);var r=s(18460),l=s(91337);let i=(0,r.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function n({className:e,variant:t,...s}){return(0,a.jsx)("div",{className:(0,l.cn)(i({variant:t}),e),...s})}},39658:(e,t,s)=>{"use strict";s.d(t,{p:()=>i});var a=s(95155),r=s(12115),l=s(91337);let i=r.forwardRef(({className:e,type:t,...s},r)=>(0,a.jsx)("input",{type:t,className:(0,l.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...s}));i.displayName="Input"},49224:(e,t,s)=>{"use strict";s.d(t,{A:()=>C,U:()=>A});var a=s(95155),r=s(12115),l=s(98500),i=s.n(l),n=s(73321),c=s(98401),d=s(7810),o=s(24642),x=s(32390),h=s(76498),m=s(89123),f=s(69183),u=s(439),g=s(89363),p=s(33210),j=s(29857),b=s(41641),N=s(21362),y=s(41313),w=s(14111);let v=[{title:"Dashboard",href:"/admin/dashboard",icon:c.A,description:"Overview & Stats"},{title:"Users",href:"/admin/users",icon:d.A,description:"Manage Users"},{title:"Packages",href:"/admin/packages",icon:o.A,description:"Bot Packages"},{title:"Transactions",href:"/admin/transactions",icon:x.A,description:"All Transactions"},{title:"Withdrawals",href:"/admin/withdrawals",icon:h.A,description:"Withdrawal Requests"},{title:"Statistics",href:"/admin/statistics",icon:m.A,description:"Analytics & Reports"},{title:"ROI Settings",href:"/admin/roi-settings",icon:f.A,description:"Manage ROI Distribution"},{title:"Compliance",href:"/admin/compliance",icon:u.A,description:"Legal & Compliance"},{title:"Settings",href:"/admin/settings",icon:g.A,description:"System Settings"}];function A({children:e}){let t=(0,n.usePathname)(),s=(0,n.useRouter)(),{logout:l,user:c,initializing:d,validateToken:o}=(0,w.A)(),[x,h]=(0,r.useState)(!0),[m,f]=(0,r.useState)(!1);if((0,r.useEffect)(()=>{d||c||t.includes("/admin/login")||s.push("/admin/login")},[c,d,t,s]),d)return(0,a.jsx)("div",{className:"min-h-screen bg-black flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-white",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-[#00ff00] mx-auto mb-4"}),(0,a.jsx)("p",{children:"Verifying authentication..."})]})});if(!c&&!t.includes("/admin/login"))return(0,a.jsx)("div",{className:"min-h-screen bg-black flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-white",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-[#00ff00] mx-auto mb-4"}),(0,a.jsx)("p",{children:"Redirecting to login..."})]})});if(c&&!c.isAdmin)return(0,a.jsx)("div",{className:"min-h-screen bg-black flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center text-white",children:[(0,a.jsx)(u.A,{className:"h-16 w-16 text-red-500 mx-auto mb-4"}),(0,a.jsx)("h1",{className:"text-2xl font-bold mb-2",children:"Access Denied"}),(0,a.jsx)("p",{className:"text-gray-400 mb-4",children:"You need administrator privileges to access this area."}),(0,a.jsx)("button",{onClick:()=>{s.push("/")},className:"bg-[#00ff00] text-black px-4 py-2 rounded hover:bg-[#00cc00] transition-colors",children:"Return to Dashboard"})]})});let g=async()=>{await l(),s.push("/admin/login")};return(0,a.jsxs)("div",{className:"min-h-screen bg-black",children:[(0,a.jsx)("div",{className:"lg:hidden fixed top-0 left-0 right-0 z-50 bg-gray-900 border-b border-gray-800",children:(0,a.jsxs)("div",{className:"flex items-center justify-between p-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(u.A,{className:"h-6 w-6 text-[#00ff00]"}),(0,a.jsx)("span",{className:"text-white font-bold text-lg",children:"Admin Panel"})]}),(0,a.jsx)("button",{onClick:()=>f(!m),className:"text-gray-400 hover:text-white",children:m?(0,a.jsx)(p.A,{className:"h-6 w-6"}):(0,a.jsx)(j.A,{className:"h-6 w-6"})})]})}),m&&(0,a.jsx)("div",{className:"lg:hidden fixed inset-0 z-40 bg-black/80",onClick:()=>f(!1),children:(0,a.jsx)("div",{className:"fixed inset-y-0 left-0 w-64 bg-gray-900 border-r border-gray-800 overflow-y-auto",onClick:e=>e.stopPropagation(),children:(0,a.jsx)(k,{navItems:v,pathname:t,user:c,onLogout:g,onClose:()=>f(!1)})})}),(0,a.jsx)("aside",{className:`hidden lg:block fixed left-0 top-0 bottom-0 bg-gray-900 border-r border-gray-800 transition-all duration-300 z-30 ${x?"w-64":"w-20"}`,children:(0,a.jsxs)("div",{className:"flex flex-col h-full",children:[(0,a.jsx)("div",{className:"p-4 border-b border-gray-800",children:(0,a.jsx)("div",{className:"flex items-center justify-between",children:x?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(u.A,{className:"h-6 w-6 text-[#00ff00]"}),(0,a.jsx)("span",{className:"text-white font-bold text-lg",children:"Admin"})]}),(0,a.jsx)("button",{onClick:()=>h(!1),className:"text-gray-400 hover:text-white",children:(0,a.jsx)(b.A,{className:"h-5 w-5"})})]}):(0,a.jsx)("button",{onClick:()=>h(!0),className:"text-gray-400 hover:text-white mx-auto",children:(0,a.jsx)(N.A,{className:"h-5 w-5"})})})}),(0,a.jsx)("nav",{className:"flex-1 p-4 space-y-2 overflow-y-auto",children:v.map(e=>{let s=e.icon,r=t===e.href||t.startsWith(e.href+"/");return(0,a.jsxs)(i(),{href:e.href,className:`flex items-center gap-3 px-3 py-2 rounded-lg transition-colors ${r?"bg-[#00ff00]/10 text-[#00ff00] border border-[#00ff00]/30":"text-gray-400 hover:text-white hover:bg-gray-800"}`,title:x?void 0:e.title,children:[(0,a.jsx)(s,{className:"h-5 w-5 flex-shrink-0"}),x&&(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("div",{className:"font-medium truncate",children:e.title}),(0,a.jsx)("div",{className:"text-xs text-gray-500 truncate",children:e.description})]})]},e.href)})}),(0,a.jsx)("div",{className:"p-4 border-t border-gray-800",children:x?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"mb-3 px-3",children:[(0,a.jsx)("div",{className:"text-sm text-gray-400",children:"Logged in as"}),(0,a.jsx)("div",{className:"text-white font-medium truncate",children:c?.email||"Admin"})]}),(0,a.jsxs)("button",{onClick:g,className:"w-full flex items-center gap-3 px-3 py-2 text-red-400 hover:text-red-300 hover:bg-red-900/20 rounded-lg transition-colors",children:[(0,a.jsx)(y.A,{className:"h-5 w-5"}),(0,a.jsx)("span",{children:"Logout"})]})]}):(0,a.jsx)("button",{onClick:g,className:"w-full flex items-center justify-center p-2 text-red-400 hover:text-red-300 hover:bg-red-900/20 rounded-lg transition-colors",title:"Logout",children:(0,a.jsx)(y.A,{className:"h-5 w-5"})})})]})}),(0,a.jsx)("main",{className:`lg:transition-all lg:duration-300 ${x?"lg:ml-64":"lg:ml-20"} pt-16 lg:pt-0`,children:(0,a.jsx)("div",{className:"min-h-screen bg-black",children:(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-4 py-6 lg:px-6 lg:py-8",children:e})})})]})}function k({navItems:e,pathname:t,user:s,onLogout:r,onClose:l}){return(0,a.jsxs)("div",{className:"flex flex-col h-full",children:[(0,a.jsx)("div",{className:"p-4 border-b border-gray-800",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(u.A,{className:"h-6 w-6 text-[#00ff00]"}),(0,a.jsx)("span",{className:"text-white font-bold text-lg",children:"Admin Panel"})]})}),(0,a.jsx)("nav",{className:"flex-1 p-4 space-y-2 overflow-y-auto",children:e.map(e=>{let s=e.icon,r=t===e.href||t.startsWith(e.href+"/");return(0,a.jsxs)(i(),{href:e.href,onClick:l,className:`flex items-center gap-3 px-3 py-2 rounded-lg transition-colors ${r?"bg-[#00ff00]/10 text-[#00ff00] border border-[#00ff00]/30":"text-gray-400 hover:text-white hover:bg-gray-800"}`,children:[(0,a.jsx)(s,{className:"h-5 w-5 flex-shrink-0"}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("div",{className:"font-medium truncate",children:e.title}),(0,a.jsx)("div",{className:"text-xs text-gray-500 truncate",children:e.description})]})]},e.href)})}),(0,a.jsxs)("div",{className:"p-4 border-t border-gray-800",children:[(0,a.jsxs)("div",{className:"mb-3 px-3",children:[(0,a.jsx)("div",{className:"text-sm text-gray-400",children:"Logged in as"}),(0,a.jsx)("div",{className:"text-white font-medium truncate",children:s?.email||"Admin"})]}),(0,a.jsxs)("button",{onClick:()=>{r(),l()},className:"w-full flex items-center gap-3 px-3 py-2 text-red-400 hover:text-red-300 hover:bg-red-900/20 rounded-lg transition-colors",children:[(0,a.jsx)(y.A,{className:"h-5 w-5"}),(0,a.jsx)("span",{children:"Logout"})]})]})]})}let C=A},72814:(e,t,s)=>{Promise.resolve().then(s.bind(s,85792))},79984:(e,t,s)=>{"use strict";s.d(t,{BT:()=>d,Wu:()=>o,ZB:()=>c,Zp:()=>i,aR:()=>n});var a=s(95155),r=s(12115),l=s(91337);let i=r.forwardRef(({className:e,...t},s)=>(0,a.jsx)("div",{ref:s,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));i.displayName="Card";let n=r.forwardRef(({className:e,...t},s)=>(0,a.jsx)("div",{ref:s,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",e),...t}));n.displayName="CardHeader";let c=r.forwardRef(({className:e,...t},s)=>(0,a.jsx)("h3",{ref:s,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",e),...t}));c.displayName="CardTitle";let d=r.forwardRef(({className:e,...t},s)=>(0,a.jsx)("p",{ref:s,className:(0,l.cn)("text-sm text-muted-foreground",e),...t}));d.displayName="CardDescription";let o=r.forwardRef(({className:e,...t},s)=>(0,a.jsx)("div",{ref:s,className:(0,l.cn)("p-6 pt-0",e),...t}));o.displayName="CardContent",r.forwardRef(({className:e,...t},s)=>(0,a.jsx)("div",{ref:s,className:(0,l.cn)("flex items-center p-6 pt-0",e),...t})).displayName="CardFooter"},85792:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>b});var a=s(95155),r=s(12115),l=s(49224),i=s(79984),n=s(4474),c=s(38291),d=s(39658),o=s(91958),x=s(76498),h=s(61878),m=s(52484),f=s(42869),u=s(13545),g=s(57420),p=s(62791),j=s(91337);function b(){let[e,t]=(0,r.useState)([]),[s,b]=(0,r.useState)(!0),[N,y]=(0,r.useState)(""),[w,v]=(0,r.useState)("PENDING"),[A,k]=(0,r.useState)(null),[C,E]=(0,r.useState)(null),[P,R]=(0,r.useState)([]),[D,S]=(0,r.useState)(!1),$=async e=>{try{b(!0),k(null);let s=(0,j.zM)("token"),a=new Promise((e,t)=>{setTimeout(()=>t(Error("Request timeout - server took too long to respond")),3e4)}),r=await Promise.race([fetch("/api/admin/withdrawals",{signal:e,credentials:"include",headers:{Authorization:`Bearer ${s}`}}),a]);if(!r.ok)throw Error("Failed to fetch withdrawals");let l=await r.json();t(l.withdrawals||[])}catch(e){if(e instanceof Error&&"AbortError"===e.name)return;k(e instanceof Error?e.message:"An error occurred"),console.error("Error fetching withdrawals:",e)}finally{b(!1)}},T=async e=>{if(confirm("Are you sure you want to approve this withdrawal?"))try{E(e);let t=(0,j.zM)("token");if(!(await fetch(`/api/admin/withdrawals/${e}/approve`,{method:"POST",credentials:"include",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}})).ok)throw Error("Failed to approve withdrawal");await $()}catch(e){alert(e instanceof Error?e.message:"Failed to approve withdrawal")}finally{E(null)}},L=async e=>{let t=prompt("Enter rejection reason:");if(t)try{E(e);let s=(0,j.zM)("token");if(!(await fetch(`/api/admin/withdrawals/${e}/reject`,{method:"POST",credentials:"include",headers:{Authorization:`Bearer ${s}`,"Content-Type":"application/json"},body:JSON.stringify({reason:t})})).ok)throw Error("Failed to reject withdrawal");await $()}catch(e){alert(e instanceof Error?e.message:"Failed to reject withdrawal")}finally{E(null)}},z=async()=>{if(0===P.length)return void alert("Please select at least one withdrawal to approve");if(confirm(`Are you sure you want to approve ${P.length} withdrawal(s)?`))try{S(!0);let e=(0,j.zM)("token"),t=P.map(t=>fetch(`/api/admin/withdrawals/${t}/approve`,{method:"POST",credentials:"include",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}})),s=await Promise.allSettled(t),a=s.filter(e=>"fulfilled"===e.status).length,r=s.filter(e=>"rejected"===e.status).length;r>0?alert(`Approved ${a} withdrawals. ${r} failed.`):alert(`Successfully approved ${a} withdrawals!`),R([]),$()}catch(e){console.error("Error bulk approving:",e),alert("Failed to approve withdrawals")}finally{S(!1)}};(0,r.useEffect)(()=>{let e=new AbortController;return $(e.signal),()=>{e.abort()}},[]);let Z=(e||[]).filter(e=>{let t=e.userEmail?.toLowerCase().includes(N.toLowerCase())||e.walletAddress?.toLowerCase().includes(N.toLowerCase())||e.transactionHash?.toLowerCase().includes(N.toLowerCase())||e.id?.toLowerCase().includes(N.toLowerCase()),s="all"===w||e.status===w;return t&&s}),F={total:(e||[]).length,pending:(e||[]).filter(e=>"PENDING"===e.status).length,approved:(e||[]).filter(e=>"APPROVED"===e.status||"COMPLETED"===e.status).length,rejected:(e||[]).filter(e=>"REJECTED"===e.status).length,totalAmount:(e||[]).reduce((e,t)=>e+Number(t.amount||0),0),pendingAmount:(e||[]).filter(e=>"PENDING"===e.status).reduce((e,t)=>e+Number(t.amount||0),0)},I=e=>{switch(e){case"PENDING":return"bg-yellow-500 text-black";case"APPROVED":case"COMPLETED":return"bg-[#00ff00] text-black";case"REJECTED":return"bg-red-600 text-white";default:return"bg-gray-500 text-white"}};return s?(0,a.jsx)(l.U,{children:(0,a.jsxs)("div",{className:"flex items-center justify-center h-64",children:[(0,a.jsx)(o.A,{className:"h-8 w-8 animate-spin text-[#00ff00]"}),(0,a.jsx)("span",{className:"ml-2 text-white",children:"Loading withdrawals..."})]})}):A?(0,a.jsx)(l.U,{children:(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center h-64",children:[(0,a.jsx)("div",{className:"text-red-500 mb-4",children:A}),(0,a.jsxs)(n.$,{onClick:()=>$(),variant:"outline",children:[(0,a.jsx)(o.A,{className:"h-4 w-4 mr-2"}),"Retry"]})]})}):(0,a.jsx)(l.U,{children:(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h1",{className:"text-3xl font-bold text-white flex items-center gap-3",children:[(0,a.jsx)(x.A,{className:"h-8 w-8 text-[#00ff00]"}),"Withdrawal Management"]}),(0,a.jsx)("p",{className:"text-gray-400 mt-1",children:"Approve or reject withdrawal requests"})]}),(0,a.jsxs)(n.$,{onClick:()=>$(),variant:"outline",size:"sm",children:[(0,a.jsx)(o.A,{className:"h-4 w-4 mr-2"}),"Refresh"]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:[(0,a.jsxs)(i.Zp,{className:"bg-gray-900 border-gray-800",children:[(0,a.jsx)(i.aR,{className:"pb-2",children:(0,a.jsx)(i.ZB,{className:"text-xs font-medium text-gray-400",children:"Total"})}),(0,a.jsx)(i.Wu,{children:(0,a.jsx)("div",{className:"text-xl font-bold text-white",children:F.total})})]}),(0,a.jsxs)(i.Zp,{className:"bg-gray-900 border-gray-800",children:[(0,a.jsx)(i.aR,{className:"pb-2",children:(0,a.jsx)(i.ZB,{className:"text-xs font-medium text-gray-400",children:"Pending"})}),(0,a.jsx)(i.Wu,{children:(0,a.jsx)("div",{className:"text-xl font-bold text-yellow-500",children:F.pending})})]}),(0,a.jsxs)(i.Zp,{className:"bg-gray-900 border-gray-800",children:[(0,a.jsx)(i.aR,{className:"pb-2",children:(0,a.jsx)(i.ZB,{className:"text-xs font-medium text-gray-400",children:"Approved"})}),(0,a.jsx)(i.Wu,{children:(0,a.jsx)("div",{className:"text-xl font-bold text-[#00ff00]",children:F.approved})})]}),(0,a.jsxs)(i.Zp,{className:"bg-gray-900 border-gray-800",children:[(0,a.jsx)(i.aR,{className:"pb-2",children:(0,a.jsx)(i.ZB,{className:"text-xs font-medium text-gray-400",children:"Rejected"})}),(0,a.jsx)(i.Wu,{children:(0,a.jsx)("div",{className:"text-xl font-bold text-red-500",children:F.rejected})})]}),(0,a.jsxs)(i.Zp,{className:"bg-gray-900 border-gray-800",children:[(0,a.jsx)(i.aR,{className:"pb-2",children:(0,a.jsx)(i.ZB,{className:"text-xs font-medium text-gray-400",children:"Total Amount"})}),(0,a.jsx)(i.Wu,{children:(0,a.jsxs)("div",{className:"text-xl font-bold text-white",children:["$",(F.totalAmount/1e3).toFixed(1),"k"]})})]}),(0,a.jsxs)(i.Zp,{className:"bg-gray-900 border-gray-800",children:[(0,a.jsx)(i.aR,{className:"pb-2",children:(0,a.jsx)(i.ZB,{className:"text-xs font-medium text-gray-400",children:"Pending $"})}),(0,a.jsx)(i.Wu,{children:(0,a.jsxs)("div",{className:"text-xl font-bold text-yellow-500",children:["$",(F.pendingAmount/1e3).toFixed(1),"k"]})})]})]}),(0,a.jsx)(i.Zp,{className:"bg-gray-900 border-gray-800",children:(0,a.jsx)(i.Wu,{className:"pt-6",children:(0,a.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[(0,a.jsxs)("div",{className:"flex-1 relative",children:[(0,a.jsx)(h.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,a.jsx)(d.p,{type:"text",placeholder:"Search by user, wallet address, or transaction hash...",value:N,onChange:e=>y(e.target.value),className:"pl-10 bg-black border-gray-700 text-white"})]}),(0,a.jsx)("div",{className:"flex gap-2 flex-wrap",children:["PENDING","APPROVED","COMPLETED","REJECTED","all"].map(e=>(0,a.jsx)(n.$,{variant:w===e?"default":"outline",size:"sm",onClick:()=>v(e),className:w===e?"bg-[#00ff00] text-black":"",children:"all"===e?"All":e},e))})]})})}),(0,a.jsxs)(i.Zp,{className:"bg-gray-900 border-gray-800",children:[(0,a.jsxs)(i.aR,{className:"flex flex-row items-center justify-between",children:[(0,a.jsxs)(i.ZB,{className:"text-white",children:["Withdrawals (",Z.length,")"]}),P.length>0&&(0,a.jsx)(n.$,{onClick:z,disabled:D,className:"bg-[#00ff00] text-black hover:bg-[#00cc00]",children:D?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(o.A,{className:"h-4 w-4 mr-2 animate-spin"}),"Approving ",P.length,"..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(m.A,{className:"h-4 w-4 mr-2"}),"Approve Selected (",P.length,")"]})})]}),(0,a.jsx)(i.Wu,{children:(0,a.jsxs)("div",{className:"overflow-x-auto",children:[(0,a.jsxs)("table",{className:"w-full",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{className:"border-b border-gray-800",children:[(0,a.jsx)("th",{className:"text-left py-3 px-4 text-gray-400 font-medium w-12",children:(0,a.jsx)("div",{className:"flex items-center gap-2",children:(0,a.jsx)("input",{type:"checkbox",checked:P.length>0&&P.length===Z.filter(e=>"PENDING"===e.status).length,onChange:()=>{let e=Z.filter(e=>"PENDING"===e.status);P.length===e.length?R([]):R(e.map(e=>e.id))},className:"w-4 h-4 rounded border-gray-600 bg-gray-800 text-[#00ff00] focus:ring-[#00ff00]"})})}),(0,a.jsx)("th",{className:"text-left py-3 px-4 text-gray-400 font-medium",children:"User"}),(0,a.jsx)("th",{className:"text-left py-3 px-4 text-gray-400 font-medium",children:"Amount"}),(0,a.jsx)("th",{className:"text-left py-3 px-4 text-gray-400 font-medium",children:"Wallet"}),(0,a.jsx)("th",{className:"text-left py-3 px-4 text-gray-400 font-medium",children:"Status"}),(0,a.jsx)("th",{className:"text-left py-3 px-4 text-gray-400 font-medium",children:"Date"}),(0,a.jsx)("th",{className:"text-left py-3 px-4 text-gray-400 font-medium",children:"Actions"})]})}),(0,a.jsx)("tbody",{children:Z.map(e=>(0,a.jsxs)("tr",{className:"border-b border-gray-800 hover:bg-gray-800/50",children:[(0,a.jsx)("td",{className:"py-3 px-4",children:"PENDING"===e.status?(0,a.jsx)("input",{type:"checkbox",checked:P.includes(e.id),onChange:()=>{var t;return t=e.id,void R(e=>e.includes(t)?e.filter(e=>e!==t):[...e,t])},className:"w-4 h-4 rounded border-gray-600 bg-gray-800 text-[#00ff00] focus:ring-[#00ff00]"}):(0,a.jsx)("div",{className:"w-4 h-4"})}),(0,a.jsx)("td",{className:"py-3 px-4",children:(0,a.jsxs)("div",{className:"text-white text-sm flex items-center gap-1",children:[(0,a.jsx)(f.A,{className:"h-3 w-3 text-gray-400"}),e.userEmail||"N/A"]})}),(0,a.jsx)("td",{className:"py-3 px-4",children:(0,a.jsx)("div",{className:"text-white font-bold text-lg",children:(0,j.vv)(e.amount)})}),(0,a.jsxs)("td",{className:"py-3 px-4",children:[(0,a.jsxs)("div",{className:"text-gray-400 text-xs font-mono",children:[e.walletAddress.slice(0,10),"...",e.walletAddress.slice(-8)]}),e.transactionHash&&(0,a.jsxs)("div",{className:"text-[#00ff00] text-xs font-mono mt-1",children:["TX: ",e.transactionHash.slice(0,10),"..."]})]}),(0,a.jsxs)("td",{className:"py-3 px-4",children:[(0,a.jsx)(c.E,{className:I(e.status),children:e.status}),e.rejectedReason&&(0,a.jsxs)("div",{className:"text-xs text-red-400 mt-1 flex items-center gap-1",children:[(0,a.jsx)(u.A,{className:"h-3 w-3"}),e.rejectedReason]})]}),(0,a.jsx)("td",{className:"py-3 px-4",children:(0,a.jsxs)("div",{className:"text-sm text-gray-400",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(g.A,{className:"h-3 w-3"}),(0,j.Yq)(e.requestedAt)]}),e.processedAt&&(0,a.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:["Processed: ",(0,j.Yq)(e.processedAt)]})]})}),(0,a.jsx)("td",{className:"py-3 px-4",children:"PENDING"===e.status?(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(n.$,{variant:"default",size:"sm",onClick:()=>T(e.id),disabled:C===e.id,className:"bg-[#00ff00] text-black hover:bg-[#00cc00]",children:(0,a.jsx)(m.A,{className:"h-4 w-4"})}),(0,a.jsx)(n.$,{variant:"destructive",size:"sm",onClick:()=>L(e.id),disabled:C===e.id,children:(0,a.jsx)(p.A,{className:"h-4 w-4"})})]}):(0,a.jsx)(c.E,{className:I(e.status),children:e.status})})]},e.id))})]}),0===Z.length&&(0,a.jsx)("div",{className:"text-center py-12 text-gray-400",children:"No withdrawals found matching your criteria."})]})})]})]})})}},91337:(e,t,s)=>{"use strict";s.d(t,{Yq:()=>n,cn:()=>l,vv:()=>i,zM:()=>c});var a=s(29722),r=s(622);function l(...e){return(0,r.QP)((0,a.$)(e))}function i(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e)}function n(e){if(!e)return"N/A";try{let t;if(e instanceof Date)t=e;else if("string"==typeof e){if(""===e.trim())return"N/A";t=new Date(e)}else if("number"==typeof e){if(e<=0)return"N/A";t=new Date(e)}else if("object"!=typeof e||null===e)return"N/A";else if("function"==typeof e.toISOString)t=e;else if(e.date||e.value)t=new Date(e.date||e.value);else{let s=Object.values(e)[0];t=new Date("string"==typeof s||"number"==typeof s?s:String(e))}if(isNaN(t.getTime())||864e5>t.getTime())return"N/A";return new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"numeric",timeZone:"UTC"}).format(t)}catch(t){return console.warn("Date formatting error:",t,"Date value:",e),"N/A"}}function c(e){try{return localStorage.getItem(e)}catch(e){return console.error("Error accessing localStorage:",e),null}}}},e=>{e.O(0,[8409,8500,2712,8482,4111,8441,3794,7358],()=>e(e.s=72814)),_N_E=e.O()}]);