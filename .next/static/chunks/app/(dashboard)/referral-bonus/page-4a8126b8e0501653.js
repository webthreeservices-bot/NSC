(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1768],{4474:(e,r,t)=>{"use strict";t.d(r,{$:()=>c});var o=t(95155),n=t(12115),s=t(42442),a=t(18460),l=t(91337);let i=(0,a.F)("inline-flex items-center justify-center whitespace-nowrap rounded-lg text-sm font-semibold ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[#00ff00] focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 active:scale-95",{variants:{variant:{default:"bg-[#00ff00] text-black hover:bg-[#00cc00] shadow-md hover:shadow-lg",destructive:"bg-red-600 text-white hover:bg-red-700",outline:"border-2 border-[#00ff00] bg-transparent text-[#00ff00] hover:bg-[#00ff00] hover:text-black",secondary:"bg-gray-800 text-white hover:bg-gray-700",ghost:"text-gray-300 hover:bg-gray-800 hover:text-white",link:"text-[#00ff00] underline-offset-4 hover:underline hover:text-[#00cc00]"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-lg px-3 text-xs",lg:"h-12 rounded-lg px-8 text-base",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=n.forwardRef(({className:e,variant:r,size:t,asChild:n=!1,...a},c)=>{let d=n?s.DX:"button";return(0,o.jsx)(d,{className:(0,l.cn)(i({variant:r,size:t,className:e})),ref:c,...a})});c.displayName="Button"},18460:(e,r,t)=>{"use strict";t.d(r,{F:()=>a});var o=t(29722);let n=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,s=o.$,a=(e,r)=>t=>{var o;if((null==r?void 0:r.variants)==null)return s(e,null==t?void 0:t.class,null==t?void 0:t.className);let{variants:a,defaultVariants:l}=r,i=Object.keys(a).map(e=>{let r=null==t?void 0:t[e],o=null==l?void 0:l[e];if(null===r)return null;let s=n(r)||n(o);return a[e][s]}),c=t&&Object.entries(t).reduce((e,r)=>{let[t,o]=r;return void 0===o||(e[t]=o),e},{});return s(e,i,null==r||null==(o=r.compoundVariants)?void 0:o.reduce((e,r)=>{let{class:t,className:o,...n}=r;return Object.entries(n).every(e=>{let[r,t]=e;return Array.isArray(t)?t.includes({...l,...c}[r]):({...l,...c})[r]===t})?[...e,t,o]:e},[]),null==t?void 0:t.class,null==t?void 0:t.className)}},22356:(e,r,t)=>{"use strict";t.d(r,{AU:()=>i,Eo:()=>a,IM:()=>c,N_:()=>l,R2:()=>s,cD:()=>d,mf:()=>u});let o="/api";async function n(e,r={}){let{token:t,...s}=r,a={"Content-Type":"application/json",...s.headers};t&&(a.Authorization=`Bearer ${t}`);let l=null;for(let r=0;r<=2;r++)try{let t,n=new AbortController,l=setTimeout(()=>n.abort(),3e4),i=await fetch(`${o}${e}`,{...s,headers:a,signal:n.signal});clearTimeout(l);try{let e=await i.text();t=e?JSON.parse(e):{}}catch(e){console.error("Failed to parse response:",e),t={error:"Invalid response from server"}}if(!i.ok){let n={endpoint:e,status:i.status,statusText:i.statusText,data:t,attempt:r+1,url:`${o}${e}`};(n.status||n.data)&&console.error("API Error:",n);let s="Request failed";s=t&&"object"==typeof t?t.error&&"string"==typeof t.error?t.error:t.message&&"string"==typeof t.message?t.message:t.error&&"object"==typeof t.error?JSON.stringify(t.error):`Request failed with status ${i.status}`:"string"==typeof t?t:`Request failed with status ${i.status}`;let a=Error(s);throw a.status=i.status,a.data=t,a}return t}catch(t){if(l=t,("AbortError"===t.name||t.message?.includes("fetch")||t.message?.includes("network")||t.message?.includes("timeout")||t.message?.includes("ETIMEDOUT")||t.message?.includes("ECONNREFUSED"))&&r<2){console.warn(`Network error, retrying (${r+1}/2)...`),await new Promise(e=>setTimeout(e,1e3*Math.pow(2,r)));continue}if(console.error("API Request Error:",{endpoint:e,error:t.message||t,stack:t.stack,attempt:r+1}),t instanceof Error&&t.message)throw t;throw Error(t?.message||"Network error. Please check your connection and try again.")}throw l||Error("Request failed after retries")}let s={register:e=>n("/auth/register",{method:"POST",body:JSON.stringify(e)}),login:e=>n("/auth/login",{method:"POST",body:JSON.stringify(e)}),verifyEmail:e=>n("/auth/verify-email",{method:"POST",body:JSON.stringify({token:e})}),forgotPassword:e=>n("/auth/forgot-password",{method:"POST",body:JSON.stringify({email:e})}),resetPassword:(e,r)=>n("/auth/reset-password",{method:"POST",body:JSON.stringify({token:e,newPassword:r})}),enable2FA:e=>n("/auth/enable-2fa",{method:"POST",token:e}),verify2FA:(e,r)=>n("/auth/verify-2fa",{method:"POST",body:JSON.stringify({code:e}),token:r})},a={getProfile:e=>n("/user/profile",{token:e}),updateProfile:(e,r)=>n("/user/profile",{method:"PUT",body:JSON.stringify(e),token:r}),getReferralCode:e=>n("/user/referral-code",{token:e})},l={create:(e,r)=>n("/packages/create",{method:"POST",body:JSON.stringify(e),token:r}),getMyPackages:(e,r)=>{let t=new URLSearchParams(e).toString();return n(`/packages/my-packages?${t}`,{token:r})},getPackageById:(e,r)=>n(`/packages/${e}`,{token:r}),verifyDeposit:(e,r,t)=>n(`/packages/${e}/verify-deposit`,{method:"POST",body:JSON.stringify({txHash:r}),token:t})},i={activate:(e,r)=>n("/bots/activate",{method:"POST",body:JSON.stringify(e),token:r}),getMyBots:e=>n("/bots/my-bots",{token:e}),checkEligibility:(e,r)=>n(`/bots/check-eligibility?botType=${e}`,{token:r})},c={getSummary:e=>n("/earnings/summary",{token:e}),getHistory:(e,r)=>{let t=new URLSearchParams(e).toString();return n(`/earnings/history?${t}`,{token:r})},getRoiSchedule:e=>n("/earnings/roi-schedule",{token:e})},d={getStats:e=>n("/referrals/stats",{token:e}),getTree:(e,r)=>{let t=e?`?level=${e}`:"";return n(`/referrals/tree${t}`,{token:r})},getDirect:e=>n("/referrals/direct",{token:e}),getLevelBreakdown:e=>n("/referrals/level-breakdown",{token:e})},u={request:(e,r)=>n("/withdrawals/request",{method:"POST",body:JSON.stringify(e),token:r}),getHistory:(e,r)=>{let t=new URLSearchParams(e).toString();return n(`/withdrawals/history?${t}`,{token:r})},checkEligibility:e=>n("/withdrawals/check-eligibility",{token:e})}},27115:(e,r,t)=>{Promise.resolve().then(t.bind(t,55875))},35082:(e,r,t)=>{"use strict";function o(){try{let e=localStorage.getItem("token");if(!e&&(e=i("token")))try{localStorage.setItem("token",e),console.log("\uD83D\uDD04 Token synced from cookie to localStorage")}catch(e){console.warn("⚠️ Could not sync token to localStorage:",e)}return e?console.log("✅ Token found in storage"):console.log("❌ No token found in storage or cookies"),e}catch(e){return console.error("❌ Error getting token from storage:",e),i("token")}}function n(e){try{localStorage.setItem("token",e),c("token",e,7),console.log("✅ Token stored in localStorage and cookie")}catch(r){console.error("❌ Error storing token:",r);try{c("token",e,7),console.log("✅ Token stored in cookie only")}catch(e){console.error("❌ Failed to store token anywhere:",e)}}}function s(){try{localStorage.removeItem("token"),localStorage.removeItem("refreshToken"),d("token"),d("refreshToken"),console.log("✅ All tokens cleared from storage and cookies")}catch(e){console.error("❌ Error clearing tokens:",e)}}function a(){try{let e=localStorage.getItem("refreshToken");if(!e&&(e=i("refreshToken")))try{localStorage.setItem("refreshToken",e)}catch(e){}return e}catch(e){return i("refreshToken")}}function l(e){try{localStorage.setItem("refreshToken",e),c("refreshToken",e,30)}catch(e){}}function i(e){if("undefined"==typeof document)return null;try{let r=`; ${document.cookie}`.split(`; ${e}=`);if(2===r.length){let e=r.pop();if(e)return e.split(";").shift()||null}return null}catch(e){return null}}function c(e,r,t){if("undefined"!=typeof document)try{let o=new Date;o.setTime(o.getTime()+24*t*36e5),document.cookie=`${e}=${r};expires=${o.toUTCString()};path=/;SameSite=Lax`}catch(e){console.error("Error setting cookie:",e)}}function d(e){if("undefined"!=typeof document)try{document.cookie=`${e}=;expires=Thu, 01 Jan 1970 00:00:00 UTC;path=/;`}catch(e){console.error("Error deleting cookie:",e)}}function u(){let e=o();if(!e)return null;try{let r=e.split(".");if(3!==r.length)return null;let t=r[1];if(!t)return null;let o=t.replace(/-/g,"+").replace(/_/g,"/"),n=decodeURIComponent(atob(o).split("").map(function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)}).join(""));return JSON.parse(n)}catch(e){return console.error("Error decoding token:",e),null}}t.d(r,{C$:()=>n,Do:()=>s,G:()=>a,LJ:()=>o,RX:()=>l,l4:()=>u})},42442:(e,r,t)=>{"use strict";t.d(r,{DX:()=>u,TL:()=>d});var o,n=t(12115),s=t(47527),a=t(95155),l=Symbol.for("react.lazy"),i=(o||(o=t.t(n,2)))[" use ".trim().toString()];function c(e){var r;return null!=e&&"object"==typeof e&&"$$typeof"in e&&e.$$typeof===l&&"_payload"in e&&"object"==typeof(r=e._payload)&&null!==r&&"then"in r}function d(e){var r;let t,o=(r=e,(t=n.forwardRef((e,r)=>{let{children:t,...o}=e;if(c(t)&&"function"==typeof i&&(t=i(t._payload)),n.isValidElement(t)){var a;let e,l,i=(a=t,(l=(e=Object.getOwnPropertyDescriptor(a.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?a.ref:(l=(e=Object.getOwnPropertyDescriptor(a,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?a.props.ref:a.props.ref||a.ref),c=function(e,r){let t={...r};for(let o in r){let n=e[o],s=r[o];/^on[A-Z]/.test(o)?n&&s?t[o]=(...e)=>{let r=s(...e);return n(...e),r}:n&&(t[o]=n):"style"===o?t[o]={...n,...s}:"className"===o&&(t[o]=[n,s].filter(Boolean).join(" "))}return{...e,...t}}(o,t.props);return t.type!==n.Fragment&&(c.ref=r?(0,s.t)(r,i):i),n.cloneElement(t,c)}return n.Children.count(t)>1?n.Children.only(null):null})).displayName=`${r}.SlotClone`,t),l=n.forwardRef((e,r)=>{let{children:t,...s}=e;c(t)&&"function"==typeof i&&(t=i(t._payload));let l=n.Children.toArray(t),d=l.find(m);if(d){let e=d.props.children,t=l.map(r=>r!==d?r:n.Children.count(e)>1?n.Children.only(null):n.isValidElement(e)?e.props.children:null);return(0,a.jsx)(o,{...s,ref:r,children:n.isValidElement(e)?n.cloneElement(e,void 0,t):null})}return(0,a.jsx)(o,{...s,ref:r,children:t})});return l.displayName=`${e}.Slot`,l}var u=d("Slot"),f=Symbol("radix.slottable");function m(e){return n.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===f}},47527:(e,r,t)=>{"use strict";t.d(r,{s:()=>a,t:()=>s});var o=t(12115);function n(e,r){if("function"==typeof e)return e(r);null!=e&&(e.current=r)}function s(...e){return r=>{let t=!1,o=e.map(e=>{let o=n(e,r);return t||"function"!=typeof o||(t=!0),o});if(t)return()=>{for(let r=0;r<o.length;r++){let t=o[r];"function"==typeof t?t():n(e[r],null)}}}}function a(...e){return o.useCallback(s(...e),e)}},55875:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>f});var o=t(95155),n=t(12115),s=t(79984),a=t(4474),l=t(91337),i=t(66609),c=t(67635),d=t(22356),u=t(35082);function f(){let[e,r]=(0,n.useState)(!0),[t,f]=(0,n.useState)([]),[m,h]=(0,n.useState)({totalEarned:0,pendingBonuses:0,referralCount:0,conversionRate:0}),[g,p]=(0,n.useState)(""),[y,x]=(0,n.useState)("");(0,n.useEffect)(()=>{!async function(){r(!0);try{let e=(0,u.LJ)();if(!e)throw Error("Not authenticated");let r=await fetch("/api/user/referral-code",{headers:{Authorization:`Bearer ${e}`}}).then(e=>e.json());r&&r.referralCode&&(p(r.referralCode),x(`${window.location.origin}/register?ref=${r.referralCode}`));let t=await fetch("/api/referrals/stats",{headers:{Authorization:`Bearer ${e}`}}).then(e=>e.json());t&&t.success&&h({totalEarned:t.totalEarnings||0,pendingBonuses:t.pendingBonuses||0,referralCount:t.directCount||0,conversionRate:t.conversionRate||0});let o=await d.IM.getHistory({type:"DIRECT_REFERRAL"},e);o&&o.earnings&&f(o.earnings.map(e=>({id:e.id,amount:Number(e.amount),referredUser:e.description||"Anonymous User",status:"Completed",createdAt:e.paidDate})))}catch(e){i.o.error("Failed to load referral bonus data")}finally{r(!1)}}()},[]);let v=e=>{navigator.clipboard.writeText(e).then(()=>{i.o.success("Referral link copied to clipboard")},e=>{})};return e?(0,o.jsx)("div",{className:"p-6",children:(0,o.jsxs)("div",{className:"text-center py-12",children:[(0,o.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto"}),(0,o.jsx)("p",{className:"mt-4 text-muted-foreground",children:"Loading referral data..."})]})}):(0,o.jsxs)("div",{className:"p-6",children:[(0,o.jsx)("h1",{className:"text-3xl font-bold mb-6",children:"Referral Bonuses"}),(0,o.jsxs)(s.Zp,{className:"mb-8",children:[(0,o.jsxs)(s.aR,{children:[(0,o.jsx)(s.ZB,{children:"Your Referral Link"}),(0,o.jsx)(s.BT,{children:"Share this link to earn 2% direct commission on referred packages"})]}),(0,o.jsxs)(s.Wu,{children:[(0,o.jsxs)("div",{className:"bg-gray-800 p-3 rounded-lg mb-4 flex items-center justify-between",children:[(0,o.jsx)("div",{className:"text-sm overflow-hidden text-ellipsis",children:y}),(0,o.jsx)(a.$,{variant:"outline",size:"sm",onClick:()=>v(y),className:"ml-2 flex-shrink-0",children:(0,o.jsx)(c.A,{className:"h-4 w-4"})})]}),(0,o.jsxs)("div",{className:"bg-green-900/20 p-3 rounded-lg flex items-center justify-between",children:[(0,o.jsxs)("div",{className:"text-sm font-mono",children:["Code: ",(0,o.jsx)("span",{className:"font-bold text-primary",children:g})]}),(0,o.jsx)(a.$,{variant:"outline",size:"sm",onClick:()=>v(g),className:"ml-2",children:(0,o.jsx)(c.A,{className:"h-4 w-4"})})]})]})]}),(0,o.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6 mb-8",children:[(0,o.jsxs)(s.Zp,{children:[(0,o.jsx)(s.aR,{className:"pb-2",children:(0,o.jsx)(s.BT,{children:"Total Earned"})}),(0,o.jsx)(s.Wu,{children:(0,o.jsx)("p",{className:"text-2xl font-bold text-green-600",children:(0,l.vv)(m.totalEarned)})})]}),(0,o.jsxs)(s.Zp,{children:[(0,o.jsx)(s.aR,{className:"pb-2",children:(0,o.jsx)(s.BT,{children:"Referrals"})}),(0,o.jsx)(s.Wu,{children:(0,o.jsx)("p",{className:"text-2xl font-bold",children:m.referralCount})})]}),(0,o.jsxs)(s.Zp,{children:[(0,o.jsx)(s.aR,{className:"pb-2",children:(0,o.jsx)(s.BT,{children:"Pending Bonuses"})}),(0,o.jsx)(s.Wu,{children:(0,o.jsx)("p",{className:"text-2xl font-bold text-yellow-600",children:(0,l.vv)(m.pendingBonuses)})})]}),(0,o.jsxs)(s.Zp,{children:[(0,o.jsx)(s.aR,{className:"pb-2",children:(0,o.jsx)(s.BT,{children:"Conversion Rate"})}),(0,o.jsx)(s.Wu,{children:(0,o.jsxs)("p",{className:"text-2xl font-bold",children:[m.conversionRate,"%"]})})]})]}),(0,o.jsxs)(s.Zp,{children:[(0,o.jsxs)(s.aR,{children:[(0,o.jsx)(s.ZB,{children:"Recent Referral Bonuses"}),(0,o.jsx)(s.BT,{children:"Your direct referral commission earnings"})]}),(0,o.jsx)(s.Wu,{children:t.length>0?(0,o.jsx)("div",{className:"space-y-4",children:t.map(e=>(0,o.jsxs)("div",{className:"flex justify-between items-center p-3 border rounded-lg",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("div",{className:"font-medium",children:e.referredUser}),(0,o.jsx)("div",{className:"text-sm text-muted-foreground",children:(0,l.Yq)(new Date(e.createdAt))})]}),(0,o.jsxs)("div",{className:"text-right",children:[(0,o.jsxs)("div",{className:"font-bold text-green-600",children:["+",(0,l.vv)(e.amount)]}),(0,o.jsx)("div",{className:"text-xs text-green-500",children:e.status})]})]},e.id))}):(0,o.jsx)("div",{className:"text-center py-8 text-muted-foreground",children:"No referral bonuses yet. Share your referral link to start earning!"})})]})]})}},67635:(e,r,t)=>{"use strict";t.d(r,{A:()=>o});let o=(0,t(78340).A)("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]])},78340:(e,r,t)=>{"use strict";t.d(r,{A:()=>l});var o=t(12115);let n=(...e)=>e.filter((e,r,t)=>!!e&&t.indexOf(e)===r).join(" ");var s={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let a=(0,o.forwardRef)(({color:e="currentColor",size:r=24,strokeWidth:t=2,absoluteStrokeWidth:a,className:l="",children:i,iconNode:c,...d},u)=>(0,o.createElement)("svg",{ref:u,...s,width:r,height:r,stroke:e,strokeWidth:a?24*Number(t)/Number(r):t,className:n("lucide",l),...d},[...c.map(([e,r])=>(0,o.createElement)(e,r)),...Array.isArray(i)?i:[i]])),l=(e,r)=>{let t=(0,o.forwardRef)(({className:t,...s},l)=>(0,o.createElement)(a,{ref:l,iconNode:r,className:n(`lucide-${e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,t),...s}));return t.displayName=`${e}`,t}},79984:(e,r,t)=>{"use strict";t.d(r,{BT:()=>c,Wu:()=>d,ZB:()=>i,Zp:()=>a,aR:()=>l});var o=t(95155),n=t(12115),s=t(91337);let a=n.forwardRef(({className:e,...r},t)=>(0,o.jsx)("div",{ref:t,className:(0,s.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...r}));a.displayName="Card";let l=n.forwardRef(({className:e,...r},t)=>(0,o.jsx)("div",{ref:t,className:(0,s.cn)("flex flex-col space-y-1.5 p-6",e),...r}));l.displayName="CardHeader";let i=n.forwardRef(({className:e,...r},t)=>(0,o.jsx)("h3",{ref:t,className:(0,s.cn)("text-2xl font-semibold leading-none tracking-tight",e),...r}));i.displayName="CardTitle";let c=n.forwardRef(({className:e,...r},t)=>(0,o.jsx)("p",{ref:t,className:(0,s.cn)("text-sm text-muted-foreground",e),...r}));c.displayName="CardDescription";let d=n.forwardRef(({className:e,...r},t)=>(0,o.jsx)("div",{ref:t,className:(0,s.cn)("p-6 pt-0",e),...r}));d.displayName="CardContent",n.forwardRef(({className:e,...r},t)=>(0,o.jsx)("div",{ref:t,className:(0,s.cn)("flex items-center p-6 pt-0",e),...r})).displayName="CardFooter"},91337:(e,r,t)=>{"use strict";t.d(r,{Yq:()=>l,cn:()=>s,vv:()=>a,zM:()=>i});var o=t(29722),n=t(622);function s(...e){return(0,n.QP)((0,o.$)(e))}function a(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e)}function l(e){if(!e)return"N/A";try{let r;if(e instanceof Date)r=e;else if("string"==typeof e){if(""===e.trim())return"N/A";r=new Date(e)}else if("number"==typeof e){if(e<=0)return"N/A";r=new Date(e)}else if("object"!=typeof e||null===e)return"N/A";else if("function"==typeof e.toISOString)r=e;else if(e.date||e.value)r=new Date(e.date||e.value);else{let t=Object.values(e)[0];r=new Date("string"==typeof t||"number"==typeof t?t:String(e))}if(isNaN(r.getTime())||864e5>r.getTime())return"N/A";return new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"numeric",timeZone:"UTC"}).format(r)}catch(r){return console.warn("Date formatting error:",r,"Date value:",e),"N/A"}}function i(e){try{return localStorage.getItem(e)}catch(e){return console.error("Error accessing localStorage:",e),null}}}},e=>{e.O(0,[8409,6609,8441,3794,7358],()=>e(e.s=27115)),_N_E=e.O()}]);