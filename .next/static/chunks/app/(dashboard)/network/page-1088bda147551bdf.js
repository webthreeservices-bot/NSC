(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5371],{7330:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>d});var s=t(95155),o=t(12115),n=t(79984),a=t(38291),l=t(22356),i=t(35082),c=t(91337);function d(){let[e,r]=(0,o.useState)(null),[t,d]=(0,o.useState)(null),[u,f]=(0,o.useState)([]),[m,g]=(0,o.useState)(!0);return((0,o.useEffect)(()=>{(async()=>{try{let e=(0,i.LJ)();if(!e){console.error("No authentication token found"),g(!1);return}let[t,s,o]=await Promise.all([l.cD.getStats(e),l.cD.getDirect(e),l.cD.getLevelBreakdown(e)]);console.log("Network stats:",t),console.log("Direct referrals:",s),console.log("Level breakdown:",o),r(t.stats||{}),d(s||{}),f(o.levels||[])}catch(e){console.error("Error fetching network data:",e),r({}),d({}),f([])}finally{g(!1)}})()},[]),m)?(0,s.jsx)("div",{className:"p-6",children:(0,s.jsxs)("div",{className:"text-center py-12",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto"}),(0,s.jsx)("p",{className:"mt-4 text-muted-foreground",children:"Loading network..."})]})}):(0,s.jsxs)("div",{className:"p-6",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold mb-6",children:"My Network"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6 mb-6",children:[(0,s.jsxs)(n.Zp,{children:[(0,s.jsx)(n.aR,{className:"pb-3",children:(0,s.jsx)(n.BT,{children:"Direct Referrals"})}),(0,s.jsx)(n.Wu,{children:(0,s.jsx)("div",{className:"text-2xl font-bold",children:e?.directReferrals||0})})]}),(0,s.jsxs)(n.Zp,{children:[(0,s.jsx)(n.aR,{className:"pb-3",children:(0,s.jsx)(n.BT,{children:"Total Network"})}),(0,s.jsxs)(n.Wu,{children:[(0,s.jsx)("div",{className:"text-2xl font-bold",children:e?.totalNetwork||0}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"All 6 levels"})]})]}),(0,s.jsxs)(n.Zp,{children:[(0,s.jsx)(n.aR,{className:"pb-3",children:(0,s.jsx)(n.BT,{children:"Network Value"})}),(0,s.jsx)(n.Wu,{children:(0,s.jsx)("div",{className:"text-2xl font-bold",children:(0,c.vv)(e?.networkValue||0)})})]}),(0,s.jsxs)(n.Zp,{children:[(0,s.jsx)(n.aR,{className:"pb-3",children:(0,s.jsx)(n.BT,{children:"Referral Earnings"})}),(0,s.jsx)(n.Wu,{children:(0,s.jsx)("div",{className:"text-2xl font-bold text-green-600",children:(0,c.vv)(e?.totalReferralEarnings||0)})})]})]}),(0,s.jsxs)(n.Zp,{className:"mb-6",children:[(0,s.jsxs)(n.aR,{children:[(0,s.jsx)(n.ZB,{children:"Level Breakdown"}),(0,s.jsx)(n.BT,{children:"Network statistics by level (1-6)"})]}),(0,s.jsx)(n.Wu,{children:(0,s.jsx)("div",{className:"overflow-x-auto mobile-scroll",children:(0,s.jsx)("div",{className:"space-y-3",children:0===u.length?Array.from({length:6},(e,r)=>r+1).map(e=>(0,s.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)("div",{className:"w-12 h-12 rounded-full bg-primary/10 flex items-center justify-center",children:(0,s.jsxs)("span",{className:"font-bold text-primary",children:["L",e]})}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"font-medium",children:["Level ",e]}),(0,s.jsx)("div",{className:"text-sm text-muted-foreground",children:"0 members • $0.00 invested"})]})]}),(0,s.jsxs)("div",{className:"text-right",children:[(0,s.jsx)("div",{className:"font-bold text-green-600",children:"$0.00"}),(0,s.jsx)("div",{className:"text-xs text-muted-foreground",children:"earned"})]})]},e)):u.map(e=>(0,s.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)("div",{className:"w-12 h-12 rounded-full bg-primary/10 flex items-center justify-center",children:(0,s.jsxs)("span",{className:"font-bold text-primary",children:["L",e.level]})}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"font-medium",children:["Level ",e.level]}),(0,s.jsxs)("div",{className:"text-sm text-muted-foreground",children:[e.count||0," members • ",(0,c.vv)(e.totalInvested||0)," invested"]})]})]}),(0,s.jsxs)("div",{className:"text-right",children:[(0,s.jsx)("div",{className:"font-bold text-green-600",children:(0,c.vv)(e.totalEarned||0)}),(0,s.jsx)("div",{className:"text-xs text-muted-foreground",children:"earned"})]})]},e.level))})})})]}),t&&t.referrals&&t.referrals.length>0&&(0,s.jsxs)(n.Zp,{children:[(0,s.jsxs)(n.aR,{children:[(0,s.jsx)(n.ZB,{children:"Direct Referrals"}),(0,s.jsxs)(n.BT,{children:["Users you directly referred (",t.totalCount," total)"]})]}),(0,s.jsx)(n.Wu,{children:(0,s.jsx)("div",{className:"overflow-x-auto mobile-scroll",children:(0,s.jsx)("div",{className:"space-y-3",children:t.referrals.map(e=>(0,s.jsxs)("div",{className:"flex justify-between items-center p-4 border rounded-lg",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"font-medium",children:e.fullName||e.username}),(0,s.jsx)("div",{className:"text-sm text-muted-foreground",children:e.email}),(0,s.jsxs)("div",{className:"text-xs text-muted-foreground mt-1",children:["Joined ",(0,c.Yq)(new Date(e.createdAt))]})]}),(0,s.jsxs)("div",{className:"text-right",children:[(0,s.jsx)("div",{className:"font-medium",children:(0,c.vv)(e.totalInvested)}),(0,s.jsxs)("div",{className:"text-sm text-muted-foreground",children:[e.activePackages," active packages"]}),(0,s.jsx)(a.E,{variant:e.isActive?"default":"secondary",className:"mt-1",children:e.isActive?"Active":"Inactive"})]})]},e.id))})})})]})]})}},18460:(e,r,t)=>{"use strict";t.d(r,{F:()=>a});var s=t(29722);let o=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,n=s.$,a=(e,r)=>t=>{var s;if((null==r?void 0:r.variants)==null)return n(e,null==t?void 0:t.class,null==t?void 0:t.className);let{variants:a,defaultVariants:l}=r,i=Object.keys(a).map(e=>{let r=null==t?void 0:t[e],s=null==l?void 0:l[e];if(null===r)return null;let n=o(r)||o(s);return a[e][n]}),c=t&&Object.entries(t).reduce((e,r)=>{let[t,s]=r;return void 0===s||(e[t]=s),e},{});return n(e,i,null==r||null==(s=r.compoundVariants)?void 0:s.reduce((e,r)=>{let{class:t,className:s,...o}=r;return Object.entries(o).every(e=>{let[r,t]=e;return Array.isArray(t)?t.includes({...l,...c}[r]):({...l,...c})[r]===t})?[...e,t,s]:e},[]),null==t?void 0:t.class,null==t?void 0:t.className)}},22356:(e,r,t)=>{"use strict";t.d(r,{AU:()=>i,Eo:()=>a,IM:()=>c,N_:()=>l,R2:()=>n,cD:()=>d,mf:()=>u});let s="/api";async function o(e,r={}){let{token:t,...n}=r,a={"Content-Type":"application/json",...n.headers};t&&(a.Authorization=`Bearer ${t}`);let l=null;for(let r=0;r<=2;r++)try{let t,o=new AbortController,l=setTimeout(()=>o.abort(),3e4),i=await fetch(`${s}${e}`,{...n,headers:a,signal:o.signal});clearTimeout(l);try{let e=await i.text();t=e?JSON.parse(e):{}}catch(e){console.error("Failed to parse response:",e),t={error:"Invalid response from server"}}if(!i.ok){let o={endpoint:e,status:i.status,statusText:i.statusText,data:t,attempt:r+1,url:`${s}${e}`};(o.status||o.data)&&console.error("API Error:",o);let n="Request failed";n=t&&"object"==typeof t?t.error&&"string"==typeof t.error?t.error:t.message&&"string"==typeof t.message?t.message:t.error&&"object"==typeof t.error?JSON.stringify(t.error):`Request failed with status ${i.status}`:"string"==typeof t?t:`Request failed with status ${i.status}`;let a=Error(n);throw a.status=i.status,a.data=t,a}return t}catch(t){if(l=t,("AbortError"===t.name||t.message?.includes("fetch")||t.message?.includes("network")||t.message?.includes("timeout")||t.message?.includes("ETIMEDOUT")||t.message?.includes("ECONNREFUSED"))&&r<2){console.warn(`Network error, retrying (${r+1}/2)...`),await new Promise(e=>setTimeout(e,1e3*Math.pow(2,r)));continue}if(console.error("API Request Error:",{endpoint:e,error:t.message||t,stack:t.stack,attempt:r+1}),t instanceof Error&&t.message)throw t;throw Error(t?.message||"Network error. Please check your connection and try again.")}throw l||Error("Request failed after retries")}let n={register:e=>o("/auth/register",{method:"POST",body:JSON.stringify(e)}),login:e=>o("/auth/login",{method:"POST",body:JSON.stringify(e)}),verifyEmail:e=>o("/auth/verify-email",{method:"POST",body:JSON.stringify({token:e})}),forgotPassword:e=>o("/auth/forgot-password",{method:"POST",body:JSON.stringify({email:e})}),resetPassword:(e,r)=>o("/auth/reset-password",{method:"POST",body:JSON.stringify({token:e,newPassword:r})}),enable2FA:e=>o("/auth/enable-2fa",{method:"POST",token:e}),verify2FA:(e,r)=>o("/auth/verify-2fa",{method:"POST",body:JSON.stringify({code:e}),token:r})},a={getProfile:e=>o("/user/profile",{token:e}),updateProfile:(e,r)=>o("/user/profile",{method:"PUT",body:JSON.stringify(e),token:r}),getReferralCode:e=>o("/user/referral-code",{token:e})},l={create:(e,r)=>o("/packages/create",{method:"POST",body:JSON.stringify(e),token:r}),getMyPackages:(e,r)=>{let t=new URLSearchParams(e).toString();return o(`/packages/my-packages?${t}`,{token:r})},getPackageById:(e,r)=>o(`/packages/${e}`,{token:r}),verifyDeposit:(e,r,t)=>o(`/packages/${e}/verify-deposit`,{method:"POST",body:JSON.stringify({txHash:r}),token:t})},i={activate:(e,r)=>o("/bots/activate",{method:"POST",body:JSON.stringify(e),token:r}),getMyBots:e=>o("/bots/my-bots",{token:e}),checkEligibility:(e,r)=>o(`/bots/check-eligibility?botType=${e}`,{token:r})},c={getSummary:e=>o("/earnings/summary",{token:e}),getHistory:(e,r)=>{let t=new URLSearchParams(e).toString();return o(`/earnings/history?${t}`,{token:r})},getRoiSchedule:e=>o("/earnings/roi-schedule",{token:e})},d={getStats:e=>o("/referrals/stats",{token:e}),getTree:(e,r)=>{let t=e?`?level=${e}`:"";return o(`/referrals/tree${t}`,{token:r})},getDirect:e=>o("/referrals/direct",{token:e}),getLevelBreakdown:e=>o("/referrals/level-breakdown",{token:e})},u={request:(e,r)=>o("/withdrawals/request",{method:"POST",body:JSON.stringify(e),token:r}),getHistory:(e,r)=>{let t=new URLSearchParams(e).toString();return o(`/withdrawals/history?${t}`,{token:r})},checkEligibility:e=>o("/withdrawals/check-eligibility",{token:e})}},35082:(e,r,t)=>{"use strict";function s(){try{let e=localStorage.getItem("token");if(!e&&(e=i("token")))try{localStorage.setItem("token",e),console.log("\uD83D\uDD04 Token synced from cookie to localStorage")}catch(e){console.warn("⚠️ Could not sync token to localStorage:",e)}return e?console.log("✅ Token found in storage"):console.log("❌ No token found in storage or cookies"),e}catch(e){return console.error("❌ Error getting token from storage:",e),i("token")}}function o(e){try{localStorage.setItem("token",e),c("token",e,7),console.log("✅ Token stored in localStorage and cookie")}catch(r){console.error("❌ Error storing token:",r);try{c("token",e,7),console.log("✅ Token stored in cookie only")}catch(e){console.error("❌ Failed to store token anywhere:",e)}}}function n(){try{localStorage.removeItem("token"),localStorage.removeItem("refreshToken"),d("token"),d("refreshToken"),console.log("✅ All tokens cleared from storage and cookies")}catch(e){console.error("❌ Error clearing tokens:",e)}}function a(){try{let e=localStorage.getItem("refreshToken");if(!e&&(e=i("refreshToken")))try{localStorage.setItem("refreshToken",e)}catch(e){}return e}catch(e){return i("refreshToken")}}function l(e){try{localStorage.setItem("refreshToken",e),c("refreshToken",e,30)}catch(e){}}function i(e){if("undefined"==typeof document)return null;try{let r=`; ${document.cookie}`.split(`; ${e}=`);if(2===r.length){let e=r.pop();if(e)return e.split(";").shift()||null}return null}catch(e){return null}}function c(e,r,t){if("undefined"!=typeof document)try{let s=new Date;s.setTime(s.getTime()+24*t*36e5),document.cookie=`${e}=${r};expires=${s.toUTCString()};path=/;SameSite=Lax`}catch(e){console.error("Error setting cookie:",e)}}function d(e){if("undefined"!=typeof document)try{document.cookie=`${e}=;expires=Thu, 01 Jan 1970 00:00:00 UTC;path=/;`}catch(e){console.error("Error deleting cookie:",e)}}function u(){let e=s();if(!e)return null;try{let r=e.split(".");if(3!==r.length)return null;let t=r[1];if(!t)return null;let s=t.replace(/-/g,"+").replace(/_/g,"/"),o=decodeURIComponent(atob(s).split("").map(function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)}).join(""));return JSON.parse(o)}catch(e){return console.error("Error decoding token:",e),null}}t.d(r,{C$:()=>o,Do:()=>n,G:()=>a,LJ:()=>s,RX:()=>l,l4:()=>u})},38291:(e,r,t)=>{"use strict";t.d(r,{E:()=>l});var s=t(95155);t(12115);var o=t(18460),n=t(91337);let a=(0,o.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function l({className:e,variant:r,...t}){return(0,s.jsx)("div",{className:(0,n.cn)(a({variant:r}),e),...t})}},79984:(e,r,t)=>{"use strict";t.d(r,{BT:()=>c,Wu:()=>d,ZB:()=>i,Zp:()=>a,aR:()=>l});var s=t(95155),o=t(12115),n=t(91337);let a=o.forwardRef(({className:e,...r},t)=>(0,s.jsx)("div",{ref:t,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...r}));a.displayName="Card";let l=o.forwardRef(({className:e,...r},t)=>(0,s.jsx)("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",e),...r}));l.displayName="CardHeader";let i=o.forwardRef(({className:e,...r},t)=>(0,s.jsx)("h3",{ref:t,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",e),...r}));i.displayName="CardTitle";let c=o.forwardRef(({className:e,...r},t)=>(0,s.jsx)("p",{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",e),...r}));c.displayName="CardDescription";let d=o.forwardRef(({className:e,...r},t)=>(0,s.jsx)("div",{ref:t,className:(0,n.cn)("p-6 pt-0",e),...r}));d.displayName="CardContent",o.forwardRef(({className:e,...r},t)=>(0,s.jsx)("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",e),...r})).displayName="CardFooter"},91337:(e,r,t)=>{"use strict";t.d(r,{Yq:()=>l,cn:()=>n,vv:()=>a,zM:()=>i});var s=t(29722),o=t(622);function n(...e){return(0,o.QP)((0,s.$)(e))}function a(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e)}function l(e){if(!e)return"N/A";try{let r;if(e instanceof Date)r=e;else if("string"==typeof e){if(""===e.trim())return"N/A";r=new Date(e)}else if("number"==typeof e){if(e<=0)return"N/A";r=new Date(e)}else if("object"!=typeof e||null===e)return"N/A";else if("function"==typeof e.toISOString)r=e;else if(e.date||e.value)r=new Date(e.date||e.value);else{let t=Object.values(e)[0];r=new Date("string"==typeof t||"number"==typeof t?t:String(e))}if(isNaN(r.getTime())||864e5>r.getTime())return"N/A";return new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"numeric",timeZone:"UTC"}).format(r)}catch(r){return console.warn("Date formatting error:",r,"Date value:",e),"N/A"}}function i(e){try{return localStorage.getItem(e)}catch(e){return console.error("Error accessing localStorage:",e),null}}},94816:(e,r,t)=>{Promise.resolve().then(t.bind(t,7330))}},e=>{e.O(0,[8409,8441,3794,7358],()=>e(e.s=94816)),_N_E=e.O()}]);