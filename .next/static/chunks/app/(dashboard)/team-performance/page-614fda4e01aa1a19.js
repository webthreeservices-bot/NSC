(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7709],{7685:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>m});var s=r(95155),a=r(12115),l=r(7810),i=r(44071),n=r(76498),c=r(11951);let d=(0,r(78340).A)("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);var o=r(91337);function m(){let[e,t]=(0,a.useState)(null),[r,m]=(0,a.useState)([]),[x,h]=(0,a.useState)(!0);(0,a.useEffect)(()=>{f()},[]);let f=async()=>{try{let e=localStorage.getItem("token");if(!e){console.error("No token found"),h(!1);return}let r=await fetch("/api/referrals/stats",{headers:{Authorization:`Bearer ${e}`}});if(r.ok){let e=await r.json();console.log("Referral stats response:",e),t({totalTeamSize:e.stats?.totalNetwork||0,teamVolume:e.stats?.networkValue||0,teamEarnings:e.stats?.totalReferralEarnings||0,activeMembers:e.stats?.directReferrals||0})}else console.error("Failed to fetch stats:",r.status,await r.text());let s=await fetch("/api/referrals/direct",{headers:{Authorization:`Bearer ${e}`}});if(s.ok){let e=await s.json();console.log("Direct referrals response:",e),m(e.referrals||[])}else console.error("Failed to fetch members:",s.status,await s.text())}catch(e){console.error("Error fetching team data:",e)}finally{h(!1)}};return x?(0,s.jsx)("div",{className:"flex items-center justify-center min-h-96",children:(0,s.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-gray-800 border-t-[#00ff00]"})}):(0,s.jsxs)("div",{className:"max-w-7xl mx-auto space-y-6",children:[(0,s.jsx)("div",{className:"flex items-center justify-between",children:(0,s.jsx)("h1",{className:"text-3xl font-bold text-white",children:"Team Performance"})}),(0,s.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6",children:[(0,s.jsx)("div",{className:"bg-gray-900 border border-gray-800 rounded-xl p-6",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-gray-400 text-sm",children:"Total Team Size"}),(0,s.jsx)("p",{className:"text-2xl font-bold text-white",children:e?.totalTeamSize})]}),(0,s.jsx)(l.A,{className:"h-8 w-8 text-[#00ff00]"})]})}),(0,s.jsx)("div",{className:"bg-gray-900 border border-gray-800 rounded-xl p-6",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-gray-400 text-sm",children:"Team Volume"}),(0,s.jsx)("p",{className:"text-2xl font-bold text-white",children:(0,o.vv)(e?.teamVolume)})]}),(0,s.jsx)(i.A,{className:"h-8 w-8 text-[#00ff00]"})]})}),(0,s.jsx)("div",{className:"bg-gray-900 border border-gray-800 rounded-xl p-6",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-gray-400 text-sm",children:"Team Earnings"}),(0,s.jsx)("p",{className:"text-2xl font-bold text-white",children:(0,o.vv)(e?.teamEarnings)})]}),(0,s.jsx)(n.A,{className:"h-8 w-8 text-[#00ff00]"})]})}),(0,s.jsx)("div",{className:"bg-gray-900 border border-gray-800 rounded-xl p-6",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-gray-400 text-sm",children:"Active Members"}),(0,s.jsx)("p",{className:"text-2xl font-bold text-white",children:e?.activeMembers})]}),(0,s.jsx)(c.A,{className:"h-8 w-8 text-[#00ff00]"})]})})]}),(0,s.jsxs)("div",{className:"bg-gray-900 border border-gray-800 rounded-xl p-6",children:[(0,s.jsx)("h3",{className:"text-xl font-bold text-white mb-6",children:"Team Members"}),(0,s.jsx)("div",{className:"overflow-x-auto mobile-scroll",children:(0,s.jsxs)("table",{className:"w-full",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{className:"border-b border-gray-800",children:[(0,s.jsx)("th",{className:"text-left py-3 text-gray-400 font-medium",children:"Name"}),(0,s.jsx)("th",{className:"text-left py-3 text-gray-400 font-medium",children:"Level"}),(0,s.jsx)("th",{className:"text-left py-3 text-gray-400 font-medium",children:"Investment"}),(0,s.jsx)("th",{className:"text-left py-3 text-gray-400 font-medium",children:"Earnings"}),(0,s.jsx)("th",{className:"text-left py-3 text-gray-400 font-medium",children:"Status"})]})}),(0,s.jsx)("tbody",{children:0===r.length?(0,s.jsx)("tr",{children:(0,s.jsx)("td",{colSpan:5,className:"py-8 text-center text-gray-400",children:"No team members yet. Start referring to build your team!"})}):r.map(e=>(0,s.jsxs)("tr",{className:"border-b border-gray-800 hover:bg-gray-800/50",children:[(0,s.jsx)("td",{className:"py-4 text-white font-medium",children:e.fullName||e.username||"N/A"}),(0,s.jsx)("td",{className:"py-4",children:(0,s.jsxs)("span",{className:"inline-flex items-center gap-1 text-[#00ff00]",children:[(0,s.jsx)(d,{className:"h-4 w-4"}),"Level 1"]})}),(0,s.jsx)("td",{className:"py-4 text-white",children:(0,o.vv)(e.totalInvested||0)}),(0,s.jsx)("td",{className:"py-4 text-[#00ff00] font-medium",children:(0,o.vv)(0)}),(0,s.jsx)("td",{className:"py-4",children:(0,s.jsx)("span",{className:`
                        px-3 py-1 rounded-full text-xs font-medium
                        ${e.isActive?"bg-green-900 text-green-400":"bg-gray-700 text-gray-400"}
                      `,children:e.isActive?"Active":"Inactive"})})]},e.id))})]})})]}),(0,s.jsxs)("div",{className:"bg-gray-900 border border-gray-800 rounded-xl p-6",children:[(0,s.jsx)("h3",{className:"text-xl font-bold text-white mb-6",children:"Team Growth Chart"}),(0,s.jsx)("div",{className:"h-64 flex items-center justify-center border-2 border-dashed border-gray-700 rounded-lg",children:(0,s.jsx)("p",{className:"text-gray-500",children:"Chart visualization would go here"})})]})]})}},7810:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(78340).A)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},11951:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(78340).A)("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]])},29594:(e,t,r)=>{Promise.resolve().then(r.bind(r,7685))},44071:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(78340).A)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]])},76498:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(78340).A)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},78340:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});var s=r(12115);let a=(...e)=>e.filter((e,t,r)=>!!e&&r.indexOf(e)===t).join(" ");var l={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let i=(0,s.forwardRef)(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:i,className:n="",children:c,iconNode:d,...o},m)=>(0,s.createElement)("svg",{ref:m,...l,width:t,height:t,stroke:e,strokeWidth:i?24*Number(r)/Number(t):r,className:a("lucide",n),...o},[...d.map(([e,t])=>(0,s.createElement)(e,t)),...Array.isArray(c)?c:[c]])),n=(e,t)=>{let r=(0,s.forwardRef)(({className:r,...l},n)=>(0,s.createElement)(i,{ref:n,iconNode:t,className:a(`lucide-${e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,r),...l}));return r.displayName=`${e}`,r}},91337:(e,t,r)=>{"use strict";r.d(t,{Yq:()=>n,cn:()=>l,vv:()=>i,zM:()=>c});var s=r(29722),a=r(622);function l(...e){return(0,a.QP)((0,s.$)(e))}function i(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e)}function n(e){if(!e)return"N/A";try{let t;if(e instanceof Date)t=e;else if("string"==typeof e){if(""===e.trim())return"N/A";t=new Date(e)}else if("number"==typeof e){if(e<=0)return"N/A";t=new Date(e)}else if("object"!=typeof e||null===e)return"N/A";else if("function"==typeof e.toISOString)t=e;else if(e.date||e.value)t=new Date(e.date||e.value);else{let r=Object.values(e)[0];t=new Date("string"==typeof r||"number"==typeof r?r:String(e))}if(isNaN(t.getTime())||864e5>t.getTime())return"N/A";return new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"numeric",timeZone:"UTC"}).format(t)}catch(t){return console.warn("Date formatting error:",t,"Date value:",e),"N/A"}}function c(e){try{return localStorage.getItem(e)}catch(e){return console.error("Error accessing localStorage:",e),null}}}},e=>{e.O(0,[8409,8441,3794,7358],()=>e(e.s=29594)),_N_E=e.O()}]);