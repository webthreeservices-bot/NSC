(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5647],{7810:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(78340).A)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},11498:(e,t,s)=>{"use strict";s.d(t,{vt:()=>o});var r=s(35867),a=s(12115),l=s(94577);let{useDebugValue:i}=a,{useSyncExternalStoreWithSelector:n}=l,c=!1,d=e=>{"function"!=typeof e&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");let t="function"==typeof e?(0,r.y)(e):e,s=(e,s)=>(function(e,t=e=>e,s){s&&!c&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),c=!0);let r=n(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,s);return i(r),r})(t,e,s);return Object.assign(s,t),s},o=e=>e?d(e):d},21362:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(78340).A)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},25727:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>p});var r=s(95155),a=s(12115),l=s(14111),i=s(7810),n=s(57684),c=s(44071),d=s(21362),o=s(52484),x=s(67635);let m=(0,s(78340).A)("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);function f({referralCode:e}){let[t,s]=(0,a.useState)(!1),l=window.location.origin,i=e&&""!==e.trim(),n=i?e:"NSCREF1000",c=`${l}/register?ref=${n}`,d=async()=>{try{await navigator.clipboard.writeText(c),s(!0),setTimeout(()=>s(!1),2e3)}catch(e){console.error("Failed to copy: ",e)}},f=async()=>{if(navigator.share)try{await navigator.share({title:"Join NSC Bot with my referral link",text:"Sign up for NSC Bot using my referral link and start earning!",url:c})}catch(e){console.error("Error sharing:",e)}else d()};return i?(0,r.jsxs)("div",{className:"bg-black border border-gray-800 rounded-xl p-4 hover:border-[#00ff00]/30 transition-all",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-[#00ff00] mb-2",children:"Your Referral Link"}),(0,r.jsx)("p",{className:"text-gray-400 text-sm mb-3",children:"Share this link to invite others and earn referral commissions"}),(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,r.jsx)("input",{type:"text",value:c,readOnly:!0,className:"flex-1 bg-black border border-gray-700 rounded-lg px-3 py-2 text-sm text-white"}),(0,r.jsx)("button",{onClick:d,className:"bg-[#00ff00]/10 hover:bg-[#00ff00]/20 border border-[#00ff00]/30 rounded-lg p-2 transition-all",title:"Copy to clipboard",children:t?(0,r.jsx)(o.A,{className:"h-5 w-5 text-[#00ff00]"}):(0,r.jsx)(x.A,{className:"h-5 w-5 text-[#00ff00]"})})]}),(0,r.jsxs)("button",{onClick:f,className:"w-full bg-[#00ff00] text-black font-semibold py-2 rounded-lg flex items-center justify-center gap-2 hover:bg-[#00cc00] transition-all",children:[(0,r.jsx)(m,{className:"h-4 w-4"}),"Share Referral Link"]})]}):(0,r.jsxs)("div",{className:"bg-black border border-gray-800 rounded-xl p-4 hover:border-[#00ff00]/30 transition-all",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-[#00ff00] mb-2",children:"Using Main Referral Code"}),(0,r.jsx)("p",{className:"text-gray-400 text-sm mb-3",children:"Your personal referral code is not available yet. You can still share the main referral code below."}),(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,r.jsx)("input",{type:"text",value:c,readOnly:!0,className:"flex-1 bg-black border border-gray-700 rounded-lg px-3 py-2 text-sm text-white"}),(0,r.jsx)("button",{onClick:d,className:"bg-[#00ff00]/10 hover:bg-[#00ff00]/20 border border-[#00ff00]/30 rounded-lg p-2 transition-all",title:"Copy to clipboard",children:t?(0,r.jsx)(o.A,{className:"h-5 w-5 text-[#00ff00]"}):(0,r.jsx)(x.A,{className:"h-5 w-5 text-[#00ff00]"})})]}),(0,r.jsxs)("button",{onClick:f,className:"w-full bg-[#00ff00] text-black font-semibold py-2 rounded-lg flex items-center justify-center gap-2 hover:bg-[#00cc00] transition-all",children:[(0,r.jsx)(m,{className:"h-4 w-4"}),"Share Main Referral Link"]})]})}var h=s(80840);function p(){let{user:e}=(0,l.A)(),[t,s]=(0,a.useState)([]),[o,x]=(0,a.useState)(!0),[m,p]=(0,a.useState)({totalReferrals:0,directReferrals:0,totalEarnings:0});return(0,a.useEffect)(()=>{(async()=>{if(e)try{let e=await fetch("/api/user/referrals"),t=await e.json();t.success&&(s(t.referrals||[]),p({totalReferrals:t.totalReferrals||0,directReferrals:t.directReferrals||0,totalEarnings:t.totalEarnings||0}))}catch(e){console.error("Error fetching referrals:",e)}finally{x(!1)}})()},[e]),(0,r.jsxs)("div",{className:"space-y-4 sm:space-y-6",children:[(0,r.jsx)("h1",{className:"text-xl sm:text-2xl font-bold mb-4 sm:mb-6 text-white",children:"Referral Program"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-3 sm:gap-4",children:[(0,r.jsx)("div",{className:"bg-black border border-gray-800 rounded-xl p-4 hover:border-[#00ff00]/30 transition-all",children:(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("div",{className:"bg-[#00ff00]/10 p-3 rounded-lg",children:(0,r.jsx)(i.A,{className:"h-5 w-5 text-[#00ff00]"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-gray-400 text-sm",children:"Total Referrals"}),(0,r.jsx)("h3",{className:"text-xl font-bold text-white",children:o?"...":m.totalReferrals})]})]})}),(0,r.jsx)("div",{className:"bg-black border border-gray-800 rounded-xl p-4 hover:border-[#00ff00]/30 transition-all",children:(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("div",{className:"bg-[#00ff00]/10 p-3 rounded-lg",children:(0,r.jsx)(n.A,{className:"h-5 w-5 text-[#00ff00]"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-gray-400 text-sm",children:"Direct Referrals"}),(0,r.jsx)("h3",{className:"text-xl font-bold text-white",children:o?"...":m.directReferrals})]})]})}),(0,r.jsx)("div",{className:"bg-black border border-gray-800 rounded-xl p-4 hover:border-[#00ff00]/30 transition-all",children:(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("div",{className:"bg-[#00ff00]/10 p-3 rounded-lg",children:(0,r.jsx)(c.A,{className:"h-5 w-5 text-[#00ff00]"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-gray-400 text-sm",children:"Total Earnings"}),(0,r.jsx)("h3",{className:"text-xl font-bold text-white",children:o?"...":`$${m.totalEarnings.toFixed(2)}`})]})]})})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 sm:gap-6",children:[(0,r.jsxs)("div",{className:"lg:col-span-1",children:[(0,r.jsx)(f,{referralCode:e.referralCode||""}),(0,r.jsxs)("div",{className:"bg-black border border-gray-800 rounded-xl p-4 mt-4 hover:border-[#00ff00]/30 transition-all",children:[(0,r.jsx)("h3",{className:"text-base sm:text-lg font-semibold text-[#00ff00] mb-3",children:"Referral Commission"}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center py-1",children:[(0,r.jsx)("span",{className:"text-gray-400 text-sm",children:"Direct Referral"}),(0,r.jsx)("span",{className:"text-white font-semibold text-sm",children:"2.00%"})]}),(0,r.jsxs)("div",{className:"flex justify-between items-center py-1",children:[(0,r.jsx)("span",{className:"text-gray-400 text-sm",children:"Level 1"}),(0,r.jsx)("span",{className:"text-white font-semibold text-sm",children:"0.75%"})]}),(0,r.jsxs)("div",{className:"flex justify-between items-center py-1",children:[(0,r.jsx)("span",{className:"text-gray-400 text-sm",children:"Level 2"}),(0,r.jsx)("span",{className:"text-white font-semibold text-sm",children:"0.50%"})]}),(0,r.jsxs)("div",{className:"flex justify-between items-center py-1",children:[(0,r.jsx)("span",{className:"text-gray-400 text-sm",children:"Level 3"}),(0,r.jsx)("span",{className:"text-white font-semibold text-sm",children:"0.25%"})]}),(0,r.jsxs)("div",{className:"flex justify-between items-center py-1",children:[(0,r.jsx)("span",{className:"text-gray-400 text-sm",children:"Level 4"}),(0,r.jsx)("span",{className:"text-white font-semibold text-sm",children:"0.15%"})]}),(0,r.jsxs)("div",{className:"flex justify-between items-center py-1",children:[(0,r.jsx)("span",{className:"text-gray-400 text-sm",children:"Level 5"}),(0,r.jsx)("span",{className:"text-white font-semibold text-sm",children:"0.10%"})]})]})]})]}),(0,r.jsx)("div",{className:"lg:col-span-2",children:(0,r.jsxs)("div",{className:"bg-black border border-gray-800 rounded-xl overflow-hidden hover:border-[#00ff00]/30 transition-all",children:[(0,r.jsx)("div",{className:"p-4 border-b border-gray-800 sticky-header",children:(0,r.jsx)("h3",{className:"text-base sm:text-lg font-semibold text-white",children:"Your Referrals"})}),o?(0,r.jsxs)("div",{className:"p-8 text-center",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-2 border-[#00ff00] border-t-transparent mx-auto"}),(0,r.jsx)("p",{className:"text-gray-400 mt-2",children:"Loading referrals..."})]}):t.length>0?(0,r.jsx)("div",{className:"overflow-x-auto mobile-scroll",children:(0,r.jsxs)("table",{className:"w-full min-w-[600px]",children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{className:"text-left text-gray-400 text-xs sm:text-sm",children:[(0,r.jsx)("th",{className:"p-3 sm:p-4",children:"User"}),(0,r.jsx)("th",{className:"p-3 sm:p-4",children:"Date Joined"}),(0,r.jsx)("th",{className:"p-3 sm:p-4",children:"Level"}),(0,r.jsx)("th",{className:"p-3 sm:p-4",children:"Earnings"}),(0,r.jsx)("th",{className:"p-3 sm:p-4"})]})}),(0,r.jsx)("tbody",{className:"divide-y divide-gray-800",children:t.map(e=>(0,r.jsxs)("tr",{className:"hover:bg-gray-900/30 transition-colors",children:[(0,r.jsx)("td",{className:"p-3 sm:p-4",children:(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("div",{className:"bg-[#00ff00]/20 w-8 h-8 sm:w-10 sm:h-10 rounded-full flex items-center justify-center flex-shrink-0",children:(0,r.jsx)("span",{className:"text-[#00ff00] font-bold text-sm",children:e.fullName?.charAt(0)||"U"})}),(0,r.jsxs)("div",{className:"min-w-0",children:[(0,r.jsx)("p",{className:"text-white font-medium text-sm truncate",children:e.fullName||"User"}),(0,r.jsx)("p",{className:"text-gray-400 text-xs truncate",children:e.email})]})]})}),(0,r.jsx)("td",{className:"p-3 sm:p-4 text-gray-400 text-sm whitespace-nowrap",children:(0,r.jsx)("td",{className:"py-3 px-4 text-sm text-gray-300",children:(0,h.Yq)(e.createdAt)})}),(0,r.jsx)("td",{className:"p-3 sm:p-4",children:(0,r.jsx)("span",{className:"bg-[#00ff00]/10 text-[#00ff00] text-xs px-2 py-1 rounded-full whitespace-nowrap",children:0===e.level?"Direct":`Level ${e.level}`})}),(0,r.jsxs)("td",{className:"p-3 sm:p-4 text-white font-medium text-sm whitespace-nowrap",children:["$",e.earnings?.toFixed(2)||"0.00"]}),(0,r.jsx)("td",{className:"p-3 sm:p-4",children:(0,r.jsx)("button",{className:"text-[#00ff00] hover:text-[#00cc00] active:scale-95 transition-all p-1",children:(0,r.jsx)(d.A,{className:"h-5 w-5"})})})]},e.id))})]})}):(0,r.jsxs)("div",{className:"p-8 text-center",children:[(0,r.jsx)("div",{className:"bg-[#00ff00]/10 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-3",children:(0,r.jsx)(i.A,{className:"h-8 w-8 text-[#00ff00]"})}),(0,r.jsx)("h4",{className:"text-white font-medium mb-1",children:"No Referrals Yet"}),(0,r.jsx)("p",{className:"text-gray-400 text-sm mb-4",children:"Share your referral link to start earning"})]})]})})]})]})}},44071:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(78340).A)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]])},52484:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(78340).A)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},57684:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(78340).A)("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]])},67635:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(78340).A)("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]])},78340:(e,t,s)=>{"use strict";s.d(t,{A:()=>n});var r=s(12115);let a=(...e)=>e.filter((e,t,s)=>!!e&&s.indexOf(e)===t).join(" ");var l={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let i=(0,r.forwardRef)(({color:e="currentColor",size:t=24,strokeWidth:s=2,absoluteStrokeWidth:i,className:n="",children:c,iconNode:d,...o},x)=>(0,r.createElement)("svg",{ref:x,...l,width:t,height:t,stroke:e,strokeWidth:i?24*Number(s)/Number(t):s,className:a("lucide",n),...o},[...d.map(([e,t])=>(0,r.createElement)(e,t)),...Array.isArray(c)?c:[c]])),n=(e,t)=>{let s=(0,r.forwardRef)(({className:s,...l},n)=>(0,r.createElement)(i,{ref:n,iconNode:t,className:a(`lucide-${e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,s),...l}));return s.displayName=`${e}`,s}},80840:(e,t,s)=>{"use strict";function r(e,t,s="N/A"){if(!e)return s;try{let r;if(e instanceof Date)r=e;else if("string"==typeof e)r=new Date(e);else if("number"==typeof e)r=new Date(e);else{if("object"!=typeof e||null===e)return s;r="function"==typeof e.toISOString?e:new Date(String(e))}if(isNaN(r.getTime())||864e5>r.getTime())return s;return new Intl.DateTimeFormat("en-US",t||{year:"numeric",month:"short",day:"numeric",timeZone:"UTC"}).format(r)}catch(t){return console.warn("Date formatting error:",t,"Input:",e),s}}function a(e,t="N/A"){if(!e)return t;try{let s;if(e instanceof Date)s=e;else if("string"==typeof e)s=new Date(e);else if("number"==typeof e)s=new Date(e);else{if("object"!=typeof e||null===e)return t;s="function"==typeof e.toISOString?e:new Date(String(e))}if(isNaN(s.getTime())||864e5>s.getTime())return t;return new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0,timeZone:"UTC"}).format(s)}catch(s){return console.warn("DateTime formatting error:",s,"Input:",e),t}}s.d(t,{Yq:()=>r,r6:()=>a})},87196:(e,t,s)=>{Promise.resolve().then(s.bind(s,25727))}},e=>{e.O(0,[2712,4111,8441,3794,7358],()=>e(e.s=87196)),_N_E=e.O()}]);