"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4189],{14189:(e,s,t)=>{t.r(s),t.d(s,{PaymentModal:()=>A});var a=t(95155),l=t(12115),r=t(47418),n=t(33210),i=t(91337);let o=r.bL;r.l9;let d=r.ZL;r.bm;let c=l.forwardRef(({className:e,...s},t)=>(0,a.jsx)(r.hJ,{ref:t,className:(0,i.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...s}));c.displayName=r.hJ.displayName;let m=l.forwardRef(({className:e,children:s,...t},l)=>(0,a.jsxs)(d,{children:[(0,a.jsx)(c,{}),(0,a.jsxs)(r.UC,{ref:l,className:(0,i.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t,children:[s,(0,a.jsxs)(r.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,a.jsx)(n.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]}));m.displayName=r.UC.displayName;let x=({className:e,...s})=>(0,a.jsx)("div",{className:(0,i.cn)("flex flex-col space-y-1.5 text-center sm:text-left",e),...s});x.displayName="DialogHeader";let u=l.forwardRef(({className:e,...s},t)=>(0,a.jsx)(r.hE,{ref:t,className:(0,i.cn)("text-lg font-semibold leading-none tracking-tight",e),...s}));u.displayName=r.hE.displayName;let f=l.forwardRef(({className:e,...s},t)=>(0,a.jsx)(r.VY,{ref:t,className:(0,i.cn)("text-sm text-muted-foreground",e),...s}));f.displayName=r.VY.displayName;var h=t(4474),p=t(72701);let g=p.bL,w=l.forwardRef(({className:e,...s},t)=>(0,a.jsx)(p.B8,{ref:t,className:(0,i.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...s}));w.displayName=p.B8.displayName;let N=l.forwardRef(({className:e,...s},t)=>(0,a.jsx)(p.l9,{ref:t,className:(0,i.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...s}));N.displayName=p.l9.displayName;let b=l.forwardRef(({className:e,...s},t)=>(0,a.jsx)(p.UC,{ref:t,className:(0,i.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...s}));b.displayName=p.UC.displayName;var y=t(71275),j=t(74281),v=t(6962),k=t(25237),C=t(79984),M=t(41463);let S="true"===t(41463).env.NEXT_PUBLIC_WEB3_DISABLED;function A({isOpen:e,onClose:s,amount:t,network:r,adminWalletAddress:n,onSuccess:i}){let[d,c]=(0,l.useState)("wallet"),[p,A]=(0,l.useState)(!0),[W,P]=(0,l.useState)(!1),[E,R]=(0,l.useState)(!1),[B,_]=(0,l.useState)(""),[I,L]=(0,l.useState)(""),[D,T]=(0,l.useState)(""),[U,z]=(0,l.useState)(""),[Q,q]=(0,l.useState)(!1),[O,Z]=(0,l.useState)("idle"),[$,V]=(0,l.useState)(r),[Y,J]=(0,l.useState)(null);(0,l.useEffect)(()=>{let e,s,t,a;J({isMobile:(e=navigator.userAgent||navigator.vendor||window.opera,/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(e)),isAndroid:(s=navigator.userAgent||navigator.vendor,/android/i.test(s)),isIOS:(t=navigator.userAgent||navigator.vendor,/iPad|iPhone|iPod/.test(t)&&!window.MSStream),isMetaMaskBrowser:(a=navigator.userAgent||navigator.vendor,/MetaMask/i.test(a)),isMetaMaskInstalled:(()=>{if("true"===M.env.NEXT_PUBLIC_WEB3_DISABLED||"true"===M.env.WEB3_DISABLED)return!1;try{let e=window.ethereum;return!!(e&&(!0===e.isMetaMask||e._metamask))}catch(e){return console.debug("MetaMask detection failed:",e),!1}})()})},[r]),(0,l.useEffect)(()=>{!e&&(L(""),T(""),z(""),Z("idle"),R(!1),q(!1),B||A(!0))},[e,B]);let X=async()=>{if(e&&!S){await new Promise(e=>setTimeout(e,100));try{let e=window.ethereum;if(!e||"function"!=typeof e.request)return;try{let s=await e.request({method:"eth_accounts"});if(s&&Array.isArray(s)&&s.length>0&&(_(s[0]),A(!1),"BEP20"===r))try{await e.request({method:"eth_chainId"})!=="0x38"&&console.debug("Wrong network detected")}catch{}}catch{}}catch{}}};return(0,l.useEffect)(()=>{e&&!S&&X().catch(()=>{})},[e,r]),(0,a.jsx)(o,{open:e,onOpenChange:s,children:(0,a.jsxs)(m,{className:"max-w-[95vw] sm:max-w-2xl max-h-[95vh] sm:max-h-[90vh] overflow-y-auto w-full mx-2 sm:mx-0",children:[(0,a.jsxs)(x,{children:[(0,a.jsxs)(u,{className:"text-base sm:text-lg",children:["Complete Payment - $",t," USDT"]}),(0,a.jsx)(f,{className:"text-xs sm:text-sm",children:"Choose your preferred payment method"})]}),(0,a.jsxs)(g,{value:d,onValueChange:e=>c(e),children:[(0,a.jsxs)(w,{className:"grid w-full grid-cols-2 h-auto",children:[(0,a.jsxs)(N,{value:"wallet",className:"flex items-center gap-1 sm:gap-2 text-xs sm:text-sm py-2 sm:py-2.5",children:[(0,a.jsx)(y.A,{className:"h-3 w-3 sm:h-4 sm:w-4 flex-shrink-0"}),(0,a.jsx)("span",{className:"hidden sm:inline",children:"Pay with Wallet"}),(0,a.jsx)("span",{className:"sm:hidden",children:"Wallet"})]}),(0,a.jsxs)(N,{value:"qrcode",className:"flex items-center gap-1 sm:gap-2 text-xs sm:text-sm py-2 sm:py-2.5",children:[(0,a.jsx)(j.A,{className:"h-3 w-3 sm:h-4 sm:w-4 flex-shrink-0"}),"QR Code"]})]}),S?(0,a.jsx)(b,{value:"wallet",className:"space-y-4",children:(0,a.jsx)(C.Zp,{children:(0,a.jsx)(C.Wu,{className:"pt-6",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("p",{className:"font-semibold text-foreground",children:"Wallet payments are temporarily disabled"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"The platform is currently running in web2 mode. Please use the QR Code method or contact support if you need assisted payouts."})]})})})}):(0,a.jsx)(b,{value:"wallet",className:"space-y-4",children:(0,a.jsx)(C.Zp,{className:"border-2 w-full",children:(0,a.jsxs)(C.Wu,{className:"pt-4 sm:pt-6 space-y-3 sm:space-y-4 px-3 sm:px-6",children:[(0,a.jsxs)("div",{className:"text-center mb-3 sm:mb-4",children:[(0,a.jsx)(y.A,{className:"h-10 w-10 sm:h-12 sm:w-12 mx-auto mb-2 sm:mb-3 text-primary"}),(0,a.jsx)("h3",{className:"text-lg sm:text-xl font-bold mb-1 sm:mb-2 text-foreground",children:"Select Your Wallet"}),(0,a.jsx)("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Choose your preferred wallet to connect"})]}),(0,a.jsx)("div",{className:"grid gap-2 sm:gap-3 w-full",children:"TRC20"===r?(0,a.jsx)(h.$,{onClick:()=>L("Wallet payments are disabled. Please use QR Code or contact support."),disabled:W,size:"lg",variant:"outline",className:"w-full h-auto py-3 sm:py-4 justify-start border-2 hover:border-primary hover:bg-primary/5 min-w-0",children:(0,a.jsxs)("div",{className:"flex items-center gap-2 sm:gap-3 w-full min-w-0",children:[(0,a.jsx)("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-red-100 rounded-lg flex items-center justify-center flex-shrink-0",children:(0,a.jsx)(y.A,{className:"w-5 h-5 sm:w-6 sm:h-6 text-red-600"})}),(0,a.jsxs)("div",{className:"text-left flex-1 min-w-0",children:[(0,a.jsx)("div",{className:"font-semibold text-foreground text-sm sm:text-base truncate",children:"TronLink Wallet"}),(0,a.jsx)("div",{className:"text-[10px] sm:text-xs text-muted-foreground truncate",children:"Connect to your TronLink wallet for TRC20"})]})]})}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(h.$,{onClick:()=>L("Wallet payments are disabled. Please use QR Code or contact support."),disabled:W||!!B,size:"lg",variant:"outline",className:"w-full h-auto py-3 sm:py-4 justify-start border-2 hover:border-primary hover:bg-primary/5 min-w-0",children:(0,a.jsxs)("div",{className:"flex items-center gap-2 sm:gap-3 w-full min-w-0",children:[(0,a.jsx)("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-orange-100 rounded-lg flex items-center justify-center flex-shrink-0",children:Y?.isMobile&&!Y?.isMetaMaskInstalled?(0,a.jsx)(v.A,{className:"w-5 h-5 sm:w-6 sm:h-6 text-orange-600"}):Y?.isMobile?(0,a.jsx)(k.A,{className:"w-5 h-5 sm:w-6 sm:h-6 text-orange-600"}):(0,a.jsx)(y.A,{className:"w-5 h-5 sm:w-6 sm:h-6 text-orange-600"})}),(0,a.jsxs)("div",{className:"text-left flex-1 min-w-0",children:[(0,a.jsx)("div",{className:"font-semibold text-foreground text-sm sm:text-base truncate",children:B?"Connected":"MetaMask / WalletConnect"}),(0,a.jsx)("div",{className:"text-[10px] sm:text-xs text-muted-foreground line-clamp-2",children:B?"Wallet connected":"Connect to MetaMask or any WalletConnect wallet"})]})]})}),(0,a.jsx)(h.$,{onClick:()=>L("Wallet payments are disabled. Please use QR Code or contact support."),disabled:W,size:"lg",variant:"outline",className:"w-full h-auto py-3 sm:py-4 justify-start border-2 hover:border-primary hover:bg-primary/5 min-w-0",children:(0,a.jsxs)("div",{className:"flex items-center gap-2 sm:gap-3 w-full min-w-0",children:[(0,a.jsx)("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-purple-900/50 border border-purple-500 rounded-lg flex items-center justify-center flex-shrink-0",children:(0,a.jsx)(y.A,{className:"w-5 h-5 sm:w-6 sm:h-6 text-purple-400"})}),(0,a.jsxs)("div",{className:"text-left flex-1 min-w-0",children:[(0,a.jsx)("div",{className:"font-semibold text-foreground text-sm sm:text-base truncate",children:"Other Wallets"}),(0,a.jsx)("div",{className:"text-[10px] sm:text-xs text-muted-foreground line-clamp-2",children:"Binance, Coinbase, or other Web3 wallets"})]})]})})]})}),(0,a.jsx)("div",{className:"pt-4 border-t",children:(0,a.jsxs)("p",{className:"text-xs text-center text-muted-foreground",children:["Don't have a wallet?"," ",(0,a.jsx)("button",{onClick:()=>c("qrcode"),className:"text-primary hover:underline font-medium",children:"Use QR Code instead"})]})})]})})}),(0,a.jsx)(b,{value:"qrcode",className:"space-y-4",children:(0,a.jsx)(C.Zp,{className:"border-2",children:(0,a.jsx)(C.Wu,{className:"pt-4",children:(0,a.jsx)("div",{className:"text-center",children:"Please use QR Code to complete the payment."})})})})]})]})})}}}]);