"use strict";exports.id=132,exports.ids=[132],exports.modules={60132:(a,b,c)=>{var d,e,f,g,h,i,j,k,l,m;c.r(b),(d=function(){this.init()}).prototype={init:function(){var a=this||e;return a._counter=1e3,a._html5AudioPool=[],a.html5PoolSize=10,a._codecs={},a._howls=[],a._muted=!1,a._volume=1,a._canPlayEvent="canplaythrough",a._navigator="undefined"!=typeof window&&window.navigator?window.navigator:null,a.masterGain=null,a.noAudio=!1,a.usingWebAudio=!0,a.autoSuspend=!0,a.ctx=null,a.autoUnlock=!0,a._setup(),a},volume:function(a){var b=this||e;if(a=parseFloat(a),b.ctx||m(),void 0!==a&&a>=0&&a<=1){if(b._volume=a,b._muted)return b;b.usingWebAudio&&b.masterGain.gain.setValueAtTime(a,e.ctx.currentTime);for(var c=0;c<b._howls.length;c++)if(!b._howls[c]._webAudio)for(var d=b._howls[c]._getSoundIds(),f=0;f<d.length;f++){var g=b._howls[c]._soundById(d[f]);g&&g._node&&(g._node.volume=g._volume*a)}return b}return b._volume},mute:function(a){var b=this||e;b.ctx||m(),b._muted=a,b.usingWebAudio&&b.masterGain.gain.setValueAtTime(a?0:b._volume,e.ctx.currentTime);for(var c=0;c<b._howls.length;c++)if(!b._howls[c]._webAudio)for(var d=b._howls[c]._getSoundIds(),f=0;f<d.length;f++){var g=b._howls[c]._soundById(d[f]);g&&g._node&&(g._node.muted=!!a||g._muted)}return b},stop:function(){for(var a=this||e,b=0;b<a._howls.length;b++)a._howls[b].stop();return a},unload:function(){for(var a=this||e,b=a._howls.length-1;b>=0;b--)a._howls[b].unload();return a.usingWebAudio&&a.ctx&&void 0!==a.ctx.close&&(a.ctx.close(),a.ctx=null,m()),a},codecs:function(a){return(this||e)._codecs[a.replace(/^x-/,"")]},_setup:function(){var a=this||e;if(a.state=a.ctx&&a.ctx.state||"suspended",a._autoSuspend(),!a.usingWebAudio)if("undefined"!=typeof Audio)try{var b=new Audio;void 0===b.oncanplaythrough&&(a._canPlayEvent="canplay")}catch(b){a.noAudio=!0}else a.noAudio=!0;try{var b=new Audio;b.muted&&(a.noAudio=!0)}catch(a){}return a.noAudio||a._setupCodecs(),a},_setupCodecs:function(){var a=this||e,b=null;try{b="undefined"!=typeof Audio?new Audio:null}catch(b){return a}if(!b||"function"!=typeof b.canPlayType)return a;var c=b.canPlayType("audio/mpeg;").replace(/^no$/,""),d=a._navigator?a._navigator.userAgent:"",f=d.match(/OPR\/([0-6].)/g),g=f&&33>parseInt(f[0].split("/")[1],10),h=-1!==d.indexOf("Safari")&&-1===d.indexOf("Chrome"),i=d.match(/Version\/(.*?) /),j=h&&i&&15>parseInt(i[1],10);return a._codecs={mp3:!(g||!c&&!b.canPlayType("audio/mp3;").replace(/^no$/,"")),mpeg:!!c,opus:!!b.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!b.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!b.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(b.canPlayType('audio/wav; codecs="1"')||b.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!b.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!b.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(b.canPlayType("audio/x-m4a;")||b.canPlayType("audio/m4a;")||b.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(b.canPlayType("audio/x-m4b;")||b.canPlayType("audio/m4b;")||b.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(b.canPlayType("audio/x-mp4;")||b.canPlayType("audio/mp4;")||b.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!(j||!b.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!(j||!b.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!b.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(b.canPlayType("audio/x-flac;")||b.canPlayType("audio/flac;")).replace(/^no$/,"")},a},_unlockAudio:function(){var a=this||e;if(!a._audioUnlocked&&a.ctx){a._audioUnlocked=!1,a.autoUnlock=!1,a._mobileUnloaded||44100===a.ctx.sampleRate||(a._mobileUnloaded=!0,a.unload()),a._scratchBuffer=a.ctx.createBuffer(1,1,22050);var b=function(c){for(;a._html5AudioPool.length<a.html5PoolSize;)try{var d=new Audio;d._unlocked=!0,a._releaseHtml5Audio(d)}catch(b){a.noAudio=!0;break}for(var e=0;e<a._howls.length;e++)if(!a._howls[e]._webAudio)for(var f=a._howls[e]._getSoundIds(),g=0;g<f.length;g++){var h=a._howls[e]._soundById(f[g]);h&&h._node&&!h._node._unlocked&&(h._node._unlocked=!0,h._node.load())}a._autoResume();var i=a.ctx.createBufferSource();i.buffer=a._scratchBuffer,i.connect(a.ctx.destination),void 0===i.start?i.noteOn(0):i.start(0),"function"==typeof a.ctx.resume&&a.ctx.resume(),i.onended=function(){i.disconnect(0),a._audioUnlocked=!0,document.removeEventListener("touchstart",b,!0),document.removeEventListener("touchend",b,!0),document.removeEventListener("click",b,!0),document.removeEventListener("keydown",b,!0);for(var c=0;c<a._howls.length;c++)a._howls[c]._emit("unlock")}};return document.addEventListener("touchstart",b,!0),document.addEventListener("touchend",b,!0),document.addEventListener("click",b,!0),document.addEventListener("keydown",b,!0),a}},_obtainHtml5Audio:function(){var a=this||e;if(a._html5AudioPool.length)return a._html5AudioPool.pop();var b=(new Audio).play();return b&&"undefined"!=typeof Promise&&(b instanceof Promise||"function"==typeof b.then)&&b.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(a){var b=this||e;return a._unlocked&&b._html5AudioPool.push(a),b},_autoSuspend:function(){var a=this;if(a.autoSuspend&&a.ctx&&void 0!==a.ctx.suspend&&e.usingWebAudio){for(var b=0;b<a._howls.length;b++)if(a._howls[b]._webAudio){for(var c=0;c<a._howls[b]._sounds.length;c++)if(!a._howls[b]._sounds[c]._paused)return a}return a._suspendTimer&&clearTimeout(a._suspendTimer),a._suspendTimer=setTimeout(function(){if(a.autoSuspend){a._suspendTimer=null,a.state="suspending";var b=function(){a.state="suspended",a._resumeAfterSuspend&&(delete a._resumeAfterSuspend,a._autoResume())};a.ctx.suspend().then(b,b)}},3e4),a}},_autoResume:function(){var a=this;if(a.ctx&&void 0!==a.ctx.resume&&e.usingWebAudio)return"running"===a.state&&"interrupted"!==a.ctx.state&&a._suspendTimer?(clearTimeout(a._suspendTimer),a._suspendTimer=null):"suspended"===a.state||"running"===a.state&&"interrupted"===a.ctx.state?(a.ctx.resume().then(function(){a.state="running";for(var b=0;b<a._howls.length;b++)a._howls[b]._emit("resume")}),a._suspendTimer&&(clearTimeout(a._suspendTimer),a._suspendTimer=null)):"suspending"===a.state&&(a._resumeAfterSuspend=!0),a}},e=new d,(f=function(a){a.src&&0!==a.src.length?this.init(a):console.error("An array of source files must be passed with any new Howl.")}).prototype={init:function(a){var b=this;return e.ctx||m(),b._autoplay=a.autoplay||!1,b._format="string"!=typeof a.format?a.format:[a.format],b._html5=a.html5||!1,b._muted=a.mute||!1,b._loop=a.loop||!1,b._pool=a.pool||5,b._preload="boolean"!=typeof a.preload&&"metadata"!==a.preload||a.preload,b._rate=a.rate||1,b._sprite=a.sprite||{},b._src="string"!=typeof a.src?a.src:[a.src],b._volume=void 0!==a.volume?a.volume:1,b._xhr={method:a.xhr&&a.xhr.method?a.xhr.method:"GET",headers:a.xhr&&a.xhr.headers?a.xhr.headers:null,withCredentials:!(!a.xhr||!a.xhr.withCredentials)&&a.xhr.withCredentials},b._duration=0,b._state="unloaded",b._sounds=[],b._endTimers={},b._queue=[],b._playLock=!1,b._onend=a.onend?[{fn:a.onend}]:[],b._onfade=a.onfade?[{fn:a.onfade}]:[],b._onload=a.onload?[{fn:a.onload}]:[],b._onloaderror=a.onloaderror?[{fn:a.onloaderror}]:[],b._onplayerror=a.onplayerror?[{fn:a.onplayerror}]:[],b._onpause=a.onpause?[{fn:a.onpause}]:[],b._onplay=a.onplay?[{fn:a.onplay}]:[],b._onstop=a.onstop?[{fn:a.onstop}]:[],b._onmute=a.onmute?[{fn:a.onmute}]:[],b._onvolume=a.onvolume?[{fn:a.onvolume}]:[],b._onrate=a.onrate?[{fn:a.onrate}]:[],b._onseek=a.onseek?[{fn:a.onseek}]:[],b._onunlock=a.onunlock?[{fn:a.onunlock}]:[],b._onresume=[],b._webAudio=e.usingWebAudio&&!b._html5,void 0!==e.ctx&&e.ctx&&e.autoUnlock&&e._unlockAudio(),e._howls.push(b),b._autoplay&&b._queue.push({event:"play",action:function(){b.play()}}),b._preload&&"none"!==b._preload&&b.load(),b},load:function(){var a,b,c=null;if(e.noAudio)return void this._emit("loaderror",null,"No audio support.");"string"==typeof this._src&&(this._src=[this._src]);for(var d=0;d<this._src.length;d++){if(this._format&&this._format[d])a=this._format[d];else{if("string"!=typeof(b=this._src[d])){this._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}(a=/^data:audio\/([^;,]+);/i.exec(b))||(a=/\.([^.]+)$/.exec(b.split("?",1)[0])),a&&(a=a[1].toLowerCase())}if(a||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),a&&e.codecs(a)){c=this._src[d];break}}return c?(this._src=c,this._state="loading","https:"===window.location.protocol&&"http:"===c.slice(0,5)&&(this._html5=!0,this._webAudio=!1),new g(this),this._webAudio&&i(this),this):void this._emit("loaderror",null,"No codec support for selected audio sources.")},play:function(a,b){var c=this,d=null;if("number"==typeof a)d=a,a=null;else{if("string"==typeof a&&"loaded"===c._state&&!c._sprite[a])return null;if(void 0===a&&(a="__default",!c._playLock)){for(var f=0,g=0;g<c._sounds.length;g++)c._sounds[g]._paused&&!c._sounds[g]._ended&&(f++,d=c._sounds[g]._id);1===f?a=null:d=null}}var h=d?c._soundById(d):c._inactiveSound();if(!h)return null;if(d&&!a&&(a=h._sprite||"__default"),"loaded"!==c._state){h._sprite=a,h._ended=!1;var i=h._id;return c._queue.push({event:"play",action:function(){c.play(i)}}),i}if(d&&!h._paused)return b||c._loadQueue("play"),h._id;c._webAudio&&e._autoResume();var j=Math.max(0,h._seek>0?h._seek:c._sprite[a][0]/1e3),k=Math.max(0,(c._sprite[a][0]+c._sprite[a][1])/1e3-j),l=1e3*k/Math.abs(h._rate),m=c._sprite[a][0]/1e3,n=(c._sprite[a][0]+c._sprite[a][1])/1e3;h._sprite=a,h._ended=!1;var o=function(){h._paused=!1,h._seek=j,h._start=m,h._stop=n,h._loop=!(!h._loop&&!c._sprite[a][2])};if(j>=n)return void c._ended(h);var p=h._node;if(c._webAudio){var q=function(){c._playLock=!1,o(),c._refreshBuffer(h);var a=h._muted||c._muted?0:h._volume;p.gain.setValueAtTime(a,e.ctx.currentTime),h._playStart=e.ctx.currentTime,void 0===p.bufferSource.start?h._loop?p.bufferSource.noteGrainOn(0,j,86400):p.bufferSource.noteGrainOn(0,j,k):h._loop?p.bufferSource.start(0,j,86400):p.bufferSource.start(0,j,k),l!==1/0&&(c._endTimers[h._id]=setTimeout(c._ended.bind(c,h),l)),b||setTimeout(function(){c._emit("play",h._id),c._loadQueue()},0)};"running"===e.state&&"interrupted"!==e.ctx.state?q():(c._playLock=!0,c.once("resume",q),c._clearTimer(h._id))}else{var r=function(){p.currentTime=j,p.muted=h._muted||c._muted||e._muted||p.muted,p.volume=h._volume*e.volume(),p.playbackRate=h._rate;try{var d=p.play();if(d&&"undefined"!=typeof Promise&&(d instanceof Promise||"function"==typeof d.then)?(c._playLock=!0,o(),d.then(function(){c._playLock=!1,p._unlocked=!0,b?c._loadQueue():c._emit("play",h._id)}).catch(function(){c._playLock=!1,c._emit("playerror",h._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),h._ended=!0,h._paused=!0})):b||(c._playLock=!1,o(),c._emit("play",h._id)),p.playbackRate=h._rate,p.paused)return void c._emit("playerror",h._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");"__default"!==a||h._loop?c._endTimers[h._id]=setTimeout(c._ended.bind(c,h),l):(c._endTimers[h._id]=function(){c._ended(h),p.removeEventListener("ended",c._endTimers[h._id],!1)},p.addEventListener("ended",c._endTimers[h._id],!1))}catch(a){c._emit("playerror",h._id,a)}};"data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"===p.src&&(p.src=c._src,p.load());var s=window&&window.ejecta||!p.readyState&&e._navigator.isCocoonJS;if(p.readyState>=3||s)r();else{c._playLock=!0,c._state="loading";var t=function(){c._state="loaded",r(),p.removeEventListener(e._canPlayEvent,t,!1)};p.addEventListener(e._canPlayEvent,t,!1),c._clearTimer(h._id)}}return h._id},pause:function(a){var b=this;if("loaded"!==b._state||b._playLock)return b._queue.push({event:"pause",action:function(){b.pause(a)}}),b;for(var c=b._getSoundIds(a),d=0;d<c.length;d++){b._clearTimer(c[d]);var e=b._soundById(c[d]);if(e&&!e._paused&&(e._seek=b.seek(c[d]),e._rateSeek=0,e._paused=!0,b._stopFade(c[d]),e._node))if(b._webAudio){if(!e._node.bufferSource)continue;void 0===e._node.bufferSource.stop?e._node.bufferSource.noteOff(0):e._node.bufferSource.stop(0),b._cleanBuffer(e._node)}else isNaN(e._node.duration)&&e._node.duration!==1/0||e._node.pause();arguments[1]||b._emit("pause",e?e._id:null)}return b},stop:function(a,b){var c=this;if("loaded"!==c._state||c._playLock)return c._queue.push({event:"stop",action:function(){c.stop(a)}}),c;for(var d=c._getSoundIds(a),e=0;e<d.length;e++){c._clearTimer(d[e]);var f=c._soundById(d[e]);f&&(f._seek=f._start||0,f._rateSeek=0,f._paused=!0,f._ended=!0,c._stopFade(d[e]),f._node&&(c._webAudio?f._node.bufferSource&&(void 0===f._node.bufferSource.stop?f._node.bufferSource.noteOff(0):f._node.bufferSource.stop(0),c._cleanBuffer(f._node)):isNaN(f._node.duration)&&f._node.duration!==1/0||(f._node.currentTime=f._start||0,f._node.pause(),f._node.duration===1/0&&c._clearSound(f._node))),b||c._emit("stop",f._id))}return c},mute:function(a,b){var c=this;if("loaded"!==c._state||c._playLock)return c._queue.push({event:"mute",action:function(){c.mute(a,b)}}),c;if(void 0===b){if("boolean"!=typeof a)return c._muted;c._muted=a}for(var d=c._getSoundIds(b),f=0;f<d.length;f++){var g=c._soundById(d[f]);g&&(g._muted=a,g._interval&&c._stopFade(g._id),c._webAudio&&g._node?g._node.gain.setValueAtTime(a?0:g._volume,e.ctx.currentTime):g._node&&(g._node.muted=!!e._muted||a),c._emit("mute",g._id))}return c},volume:function(){var a,b,c,d=this,f=arguments;if(0===f.length)return d._volume;if(1===f.length||2===f.length&&void 0===f[1]?d._getSoundIds().indexOf(f[0])>=0?c=parseInt(f[0],10):b=parseFloat(f[0]):f.length>=2&&(b=parseFloat(f[0]),c=parseInt(f[1],10)),!(void 0!==b&&b>=0&&b<=1))return(a=c?d._soundById(c):d._sounds[0])?a._volume:0;if("loaded"!==d._state||d._playLock)return d._queue.push({event:"volume",action:function(){d.volume.apply(d,f)}}),d;void 0===c&&(d._volume=b),c=d._getSoundIds(c);for(var g=0;g<c.length;g++)(a=d._soundById(c[g]))&&(a._volume=b,f[2]||d._stopFade(c[g]),d._webAudio&&a._node&&!a._muted?a._node.gain.setValueAtTime(b,e.ctx.currentTime):a._node&&!a._muted&&(a._node.volume=b*e.volume()),d._emit("volume",a._id));return d},fade:function(a,b,c,d){var f=this;if("loaded"!==f._state||f._playLock)return f._queue.push({event:"fade",action:function(){f.fade(a,b,c,d)}}),f;a=Math.min(Math.max(0,parseFloat(a)),1),b=Math.min(Math.max(0,parseFloat(b)),1),c=parseFloat(c),f.volume(a,d);for(var g=f._getSoundIds(d),h=0;h<g.length;h++){var i=f._soundById(g[h]);if(i){if(d||f._stopFade(g[h]),f._webAudio&&!i._muted){var j=e.ctx.currentTime,k=j+c/1e3;i._volume=a,i._node.gain.setValueAtTime(a,j),i._node.gain.linearRampToValueAtTime(b,k)}f._startFadeInterval(i,a,b,c,g[h],void 0===d)}}return f},_startFadeInterval:function(a,b,c,d,e,f){var g=this,h=b,i=c-b,j=Math.abs(i/.01),k=Math.max(4,j>0?d/j:d),l=Date.now();a._fadeTo=c,a._interval=setInterval(function(){var e=(Date.now()-l)/d;l=Date.now(),h+=i*e,h=Math.round(100*h)/100,h=i<0?Math.max(c,h):Math.min(c,h),g._webAudio?a._volume=h:g.volume(h,a._id,!0),f&&(g._volume=h),(c<b&&h<=c||c>b&&h>=c)&&(clearInterval(a._interval),a._interval=null,a._fadeTo=null,g.volume(c,a._id),g._emit("fade",a._id))},k)},_stopFade:function(a){var b=this._soundById(a);return b&&b._interval&&(this._webAudio&&b._node.gain.cancelScheduledValues(e.ctx.currentTime),clearInterval(b._interval),b._interval=null,this.volume(b._fadeTo,a),b._fadeTo=null,this._emit("fade",a)),this},loop:function(){var a,b,c,d=arguments;if(0===d.length)return this._loop;if(1===d.length){if("boolean"!=typeof d[0])return!!(c=this._soundById(parseInt(d[0],10)))&&c._loop;a=d[0],this._loop=a}else 2===d.length&&(a=d[0],b=parseInt(d[1],10));for(var e=this._getSoundIds(b),f=0;f<e.length;f++)(c=this._soundById(e[f]))&&(c._loop=a,this._webAudio&&c._node&&c._node.bufferSource&&(c._node.bufferSource.loop=a,a&&(c._node.bufferSource.loopStart=c._start||0,c._node.bufferSource.loopEnd=c._stop,this.playing(e[f])&&(this.pause(e[f],!0),this.play(e[f],!0)))));return this},rate:function(){var a,b,c,d=this,f=arguments;if(0===f.length?c=d._sounds[0]._id:1===f.length?d._getSoundIds().indexOf(f[0])>=0?c=parseInt(f[0],10):b=parseFloat(f[0]):2===f.length&&(b=parseFloat(f[0]),c=parseInt(f[1],10)),"number"!=typeof b)return(a=d._soundById(c))?a._rate:d._rate;if("loaded"!==d._state||d._playLock)return d._queue.push({event:"rate",action:function(){d.rate.apply(d,f)}}),d;void 0===c&&(d._rate=b),c=d._getSoundIds(c);for(var g=0;g<c.length;g++)if(a=d._soundById(c[g])){d.playing(c[g])&&(a._rateSeek=d.seek(c[g]),a._playStart=d._webAudio?e.ctx.currentTime:a._playStart),a._rate=b,d._webAudio&&a._node&&a._node.bufferSource?a._node.bufferSource.playbackRate.setValueAtTime(b,e.ctx.currentTime):a._node&&(a._node.playbackRate=b);var h=d.seek(c[g]),i=1e3*((d._sprite[a._sprite][0]+d._sprite[a._sprite][1])/1e3-h)/Math.abs(a._rate);!d._endTimers[c[g]]&&a._paused||(d._clearTimer(c[g]),d._endTimers[c[g]]=setTimeout(d._ended.bind(d,a),i)),d._emit("rate",a._id)}return d},seek:function(){var a,b,c=this,d=arguments;if(0===d.length?c._sounds.length&&(b=c._sounds[0]._id):1===d.length?c._getSoundIds().indexOf(d[0])>=0?b=parseInt(d[0],10):c._sounds.length&&(b=c._sounds[0]._id,a=parseFloat(d[0])):2===d.length&&(a=parseFloat(d[0]),b=parseInt(d[1],10)),void 0===b)return 0;if("number"==typeof a&&("loaded"!==c._state||c._playLock))return c._queue.push({event:"seek",action:function(){c.seek.apply(c,d)}}),c;var f=c._soundById(b);if(f){if(!("number"==typeof a&&a>=0)){if(c._webAudio){var g=c.playing(b)?e.ctx.currentTime-f._playStart:0,h=f._rateSeek?f._rateSeek-f._seek:0;return f._seek+(h+g*Math.abs(f._rate))}return f._node.currentTime}var i=c.playing(b);i&&c.pause(b,!0),f._seek=a,f._ended=!1,c._clearTimer(b),c._webAudio||!f._node||isNaN(f._node.duration)||(f._node.currentTime=a);var j=function(){i&&c.play(b,!0),c._emit("seek",b)};if(i&&!c._webAudio){var k=function(){c._playLock?setTimeout(k,0):j()};setTimeout(k,0)}else j()}return c},playing:function(a){if("number"==typeof a){var b=this._soundById(a);return!!b&&!b._paused}for(var c=0;c<this._sounds.length;c++)if(!this._sounds[c]._paused)return!0;return!1},duration:function(a){var b=this._duration,c=this._soundById(a);return c&&(b=this._sprite[c._sprite][1]/1e3),b},state:function(){return this._state},unload:function(){for(var a=this,b=a._sounds,c=0;c<b.length;c++)b[c]._paused||a.stop(b[c]._id),a._webAudio||(a._clearSound(b[c]._node),b[c]._node.removeEventListener("error",b[c]._errorFn,!1),b[c]._node.removeEventListener(e._canPlayEvent,b[c]._loadFn,!1),b[c]._node.removeEventListener("ended",b[c]._endFn,!1),e._releaseHtml5Audio(b[c]._node)),delete b[c]._node,a._clearTimer(b[c]._id);var d=e._howls.indexOf(a);d>=0&&e._howls.splice(d,1);var f=!0;for(c=0;c<e._howls.length;c++)if(e._howls[c]._src===a._src||a._src.indexOf(e._howls[c]._src)>=0){f=!1;break}return h&&f&&delete h[a._src],e.noAudio=!1,a._state="unloaded",a._sounds=[],a=null,null},on:function(a,b,c,d){var e=this["_on"+a];return"function"==typeof b&&e.push(d?{id:c,fn:b,once:d}:{id:c,fn:b}),this},off:function(a,b,c){var d=this["_on"+a],e=0;if("number"==typeof b&&(c=b,b=null),b||c)for(e=0;e<d.length;e++){var f=c===d[e].id;if(b===d[e].fn&&f||!b&&f){d.splice(e,1);break}}else if(a)this["_on"+a]=[];else{var g=Object.keys(this);for(e=0;e<g.length;e++)0===g[e].indexOf("_on")&&Array.isArray(this[g[e]])&&(this[g[e]]=[])}return this},once:function(a,b,c){return this.on(a,b,c,1),this},_emit:function(a,b,c){for(var d=this["_on"+a],e=d.length-1;e>=0;e--)d[e].id&&d[e].id!==b&&"load"!==a||(setTimeout((function(a){a.call(this,b,c)}).bind(this,d[e].fn),0),d[e].once&&this.off(a,d[e].fn,d[e].id));return this._loadQueue(a),this},_loadQueue:function(a){if(this._queue.length>0){var b=this._queue[0];b.event===a&&(this._queue.shift(),this._loadQueue()),a||b.action()}return this},_ended:function(a){var b=a._sprite;if(!this._webAudio&&a._node&&!a._node.paused&&!a._node.ended&&a._node.currentTime<a._stop)return setTimeout(this._ended.bind(this,a),100),this;var c=!(!a._loop&&!this._sprite[b][2]);if(this._emit("end",a._id),!this._webAudio&&c&&this.stop(a._id,!0).play(a._id),this._webAudio&&c){this._emit("play",a._id),a._seek=a._start||0,a._rateSeek=0,a._playStart=e.ctx.currentTime;var d=1e3*(a._stop-a._start)/Math.abs(a._rate);this._endTimers[a._id]=setTimeout(this._ended.bind(this,a),d)}return this._webAudio&&!c&&(a._paused=!0,a._ended=!0,a._seek=a._start||0,a._rateSeek=0,this._clearTimer(a._id),this._cleanBuffer(a._node),e._autoSuspend()),this._webAudio||c||this.stop(a._id,!0),this},_clearTimer:function(a){if(this._endTimers[a]){if("function"!=typeof this._endTimers[a])clearTimeout(this._endTimers[a]);else{var b=this._soundById(a);b&&b._node&&b._node.removeEventListener("ended",this._endTimers[a],!1)}delete this._endTimers[a]}return this},_soundById:function(a){for(var b=0;b<this._sounds.length;b++)if(a===this._sounds[b]._id)return this._sounds[b];return null},_inactiveSound:function(){this._drain();for(var a=0;a<this._sounds.length;a++)if(this._sounds[a]._ended)return this._sounds[a].reset();return new g(this)},_drain:function(){var a=this._pool,b=0,c=0;if(!(this._sounds.length<a)){for(c=0;c<this._sounds.length;c++)this._sounds[c]._ended&&b++;for(c=this._sounds.length-1;c>=0;c--){if(b<=a)return;this._sounds[c]._ended&&(this._webAudio&&this._sounds[c]._node&&this._sounds[c]._node.disconnect(0),this._sounds.splice(c,1),b--)}}},_getSoundIds:function(a){if(void 0===a){for(var b=[],c=0;c<this._sounds.length;c++)b.push(this._sounds[c]._id);return b}return[a]},_refreshBuffer:function(a){return a._node.bufferSource=e.ctx.createBufferSource(),a._node.bufferSource.buffer=h[this._src],a._panner?a._node.bufferSource.connect(a._panner):a._node.bufferSource.connect(a._node),a._node.bufferSource.loop=a._loop,a._loop&&(a._node.bufferSource.loopStart=a._start||0,a._node.bufferSource.loopEnd=a._stop||0),a._node.bufferSource.playbackRate.setValueAtTime(a._rate,e.ctx.currentTime),this},_cleanBuffer:function(a){var b=e._navigator&&e._navigator.vendor.indexOf("Apple")>=0;if(e._scratchBuffer&&a.bufferSource&&(a.bufferSource.onended=null,a.bufferSource.disconnect(0),b))try{a.bufferSource.buffer=e._scratchBuffer}catch(a){}return a.bufferSource=null,this},_clearSound:function(a){/MSIE |Trident\//.test(e._navigator&&e._navigator.userAgent)||(a.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}},(g=function(a){this._parent=a,this.init()}).prototype={init:function(){var a=this._parent;return this._muted=a._muted,this._loop=a._loop,this._volume=a._volume,this._rate=a._rate,this._seek=0,this._paused=!0,this._ended=!0,this._sprite="__default",this._id=++e._counter,a._sounds.push(this),this.create(),this},create:function(){var a=this._parent,b=e._muted||this._muted||this._parent._muted?0:this._volume;return a._webAudio?(this._node=void 0===e.ctx.createGain?e.ctx.createGainNode():e.ctx.createGain(),this._node.gain.setValueAtTime(b,e.ctx.currentTime),this._node.paused=!0,this._node.connect(e.masterGain)):e.noAudio||(this._node=e._obtainHtml5Audio(),this._errorFn=this._errorListener.bind(this),this._node.addEventListener("error",this._errorFn,!1),this._loadFn=this._loadListener.bind(this),this._node.addEventListener(e._canPlayEvent,this._loadFn,!1),this._endFn=this._endListener.bind(this),this._node.addEventListener("ended",this._endFn,!1),this._node.src=a._src,this._node.preload=!0===a._preload?"auto":a._preload,this._node.volume=b*e.volume(),this._node.load()),this},reset:function(){var a=this._parent;return this._muted=a._muted,this._loop=a._loop,this._volume=a._volume,this._rate=a._rate,this._seek=0,this._rateSeek=0,this._paused=!0,this._ended=!0,this._sprite="__default",this._id=++e._counter,this},_errorListener:function(){this._parent._emit("loaderror",this._id,this._node.error?this._node.error.code:0),this._node.removeEventListener("error",this._errorFn,!1)},_loadListener:function(){var a=this._parent;a._duration=Math.ceil(10*this._node.duration)/10,0===Object.keys(a._sprite).length&&(a._sprite={__default:[0,1e3*a._duration]}),"loaded"!==a._state&&(a._state="loaded",a._emit("load"),a._loadQueue()),this._node.removeEventListener(e._canPlayEvent,this._loadFn,!1)},_endListener:function(){var a=this._parent;a._duration===1/0&&(a._duration=Math.ceil(10*this._node.duration)/10,a._sprite.__default[1]===1/0&&(a._sprite.__default[1]=1e3*a._duration),a._ended(this)),this._node.removeEventListener("ended",this._endFn,!1)}},h={},i=function(a){var b=a._src;if(h[b])return a._duration=h[b].duration,void l(a);if(/^data:[^;]+;base64,/.test(b)){for(var c=atob(b.split(",")[1]),d=new Uint8Array(c.length),e=0;e<c.length;++e)d[e]=c.charCodeAt(e);k(d.buffer,a)}else{var f=new XMLHttpRequest;f.open(a._xhr.method,b,!0),f.withCredentials=a._xhr.withCredentials,f.responseType="arraybuffer",a._xhr.headers&&Object.keys(a._xhr.headers).forEach(function(b){f.setRequestHeader(b,a._xhr.headers[b])}),f.onload=function(){var b=(f.status+"")[0];"0"!==b&&"2"!==b&&"3"!==b?a._emit("loaderror",null,"Failed loading audio file with status: "+f.status+"."):k(f.response,a)},f.onerror=function(){a._webAudio&&(a._html5=!0,a._webAudio=!1,a._sounds=[],delete h[b],a.load())},j(f)}},j=function(a){try{a.send()}catch(b){a.onerror()}},k=function(a,b){var c=function(){b._emit("loaderror",null,"Decoding audio data failed.")},d=function(a){a&&b._sounds.length>0?(h[b._src]=a,l(b,a)):c()};"undefined"!=typeof Promise&&1===e.ctx.decodeAudioData.length?e.ctx.decodeAudioData(a).then(d).catch(c):e.ctx.decodeAudioData(a,d,c)},l=function(a,b){b&&!a._duration&&(a._duration=b.duration),0===Object.keys(a._sprite).length&&(a._sprite={__default:[0,1e3*a._duration]}),"loaded"!==a._state&&(a._state="loaded",a._emit("load"),a._loadQueue())},m=function(){if(e.usingWebAudio){try{"undefined"!=typeof AudioContext?e.ctx=new AudioContext:"undefined"!=typeof webkitAudioContext?e.ctx=new webkitAudioContext:e.usingWebAudio=!1}catch(a){e.usingWebAudio=!1}e.ctx||(e.usingWebAudio=!1);var a=/iP(hone|od|ad)/.test(e._navigator&&e._navigator.platform),b=e._navigator&&e._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),c=b?parseInt(b[1],10):null;if(a&&c&&c<9){var d=/safari/.test(e._navigator&&e._navigator.userAgent.toLowerCase());e._navigator&&!d&&(e.usingWebAudio=!1)}e.usingWebAudio&&(e.masterGain=void 0===e.ctx.createGain?e.ctx.createGainNode():e.ctx.createGain(),e.masterGain.gain.setValueAtTime(e._muted?0:e._volume,e.ctx.currentTime),e.masterGain.connect(e.ctx.destination)),e._setup()}},"function"==typeof define&&define.amd&&define([],function(){return{Howler:e,Howl:f}}),"undefined"!=typeof exports&&(exports.Howler=e,exports.Howl=f),"undefined"!=typeof global?(global.HowlerGlobal=d,global.Howler=e,global.Howl=f,global.Sound=g):"undefined"!=typeof window&&(window.HowlerGlobal=d,window.Howler=e,window.Howl=f,window.Sound=g)}};