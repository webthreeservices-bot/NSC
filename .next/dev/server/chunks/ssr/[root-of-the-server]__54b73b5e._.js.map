{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 16, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/LENOVO/Desktop/nsc-test/vercel-download/src/store/authStore.ts"],"sourcesContent":["import { create } from 'zustand'\nimport { persist } from 'zustand/middleware'\n\ninterface User {\n  id: string\n  email: string\n  username: string\n  fullName: string | null\n  referralCode: string\n  isAdmin: boolean\n  isEmailVerified: boolean\n  twoFactorEnabled: boolean\n}\n\ninterface AuthState {\n  user: User | null\n  setUser: (user: User) => void\n  clearUser: () => void\n}\n\nexport const useAuthStore = create<AuthState>()(\n  persist(\n    (set) => ({\n      user: null,\n      setUser: (user) => set({ user }),\n      clearUser: () => set({ user: null }),\n    }),\n    {\n      name: 'auth-storage',\n    }\n  )\n)\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAmBO,MAAM,eAAe,IAAA,kKAAM,IAChC,IAAA,wJAAO,EACL,CAAC,MAAQ,CAAC;QACR,MAAM;QACN,SAAS,CAAC,OAAS,IAAI;gBAAE;YAAK;QAC9B,WAAW,IAAM,IAAI;gBAAE,MAAM;YAAK;IACpC,CAAC,GACD;IACE,MAAM;AACR"}},
    {"offset": {"line": 39, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/LENOVO/Desktop/nsc-test/vercel-download/src/lib/api.ts"],"sourcesContent":["// Use relative URL to avoid CORS issues - always use same origin\nconst API_URL = '/api'\n\ninterface RequestOptions extends RequestInit {\n  token?: string\n}\n\nasync function apiRequest<T = any>(\n  endpoint: string,\n  options: RequestOptions = {}\n): Promise<T> {\n  const { token, ...fetchOptions } = options\n\n  const headers: HeadersInit = {\n    'Content-Type': 'application/json',\n    ...fetchOptions.headers,\n  }\n\n  if (token) {\n    headers['Authorization'] = `Bearer ${token}`\n  }\n\n  // Retry logic for network errors (especially useful for mobile)\n  const maxRetries = 2\n  let lastError: any = null\n\n  for (let attempt = 0; attempt <= maxRetries; attempt++) {\n    try {\n      const controller = new AbortController()\n      const timeoutId = setTimeout(() => controller.abort(), 30000) // 30 second timeout\n\n      const response = await fetch(`${API_URL}${endpoint}`, {\n        ...fetchOptions,\n        headers,\n        signal: controller.signal,\n      })\n\n      clearTimeout(timeoutId)\n\n      // Parse response body\n      let data: any\n      try {\n        const text = await response.text()\n        data = text ? JSON.parse(text) : {}\n      } catch (parseError) {\n        console.error('Failed to parse response:', parseError)\n        data = { error: 'Invalid response from server' }\n      }\n\n      if (!response.ok) {\n        const errorDetails = {\n          endpoint,\n          status: response.status,\n          statusText: response.statusText,\n          data,\n          attempt: attempt + 1,\n          url: `${API_URL}${endpoint}`\n        }\n\n        // Only log if there's actual error information\n        if (errorDetails.status || errorDetails.data) {\n          console.error('API Error:', errorDetails)\n        }\n        \n        // Extract error message from response\n        let errorMessage = 'Request failed'\n        \n        if (data && typeof data === 'object') {\n          if (data.error && typeof data.error === 'string') {\n            errorMessage = data.error\n          } else if (data.message && typeof data.message === 'string') {\n            errorMessage = data.message\n          } else if (data.error && typeof data.error === 'object') {\n            errorMessage = JSON.stringify(data.error)\n          } else {\n            errorMessage = `Request failed with status ${response.status}`\n          }\n        } else if (typeof data === 'string') {\n          errorMessage = data\n        } else {\n          errorMessage = `Request failed with status ${response.status}`\n        }\n        \n        // Create an error with a clear message\n        const error = new Error(errorMessage)\n        ;(error as any).status = response.status\n        ;(error as any).data = data\n        throw error\n      }\n\n      return data\n    } catch (error: any) {\n      lastError = error\n      \n      // Check if it's a network error that we should retry\n      const isNetworkError = \n        error.name === 'AbortError' ||\n        error.message?.includes('fetch') ||\n        error.message?.includes('network') ||\n        error.message?.includes('timeout') ||\n        error.message?.includes('ETIMEDOUT') ||\n        error.message?.includes('ECONNREFUSED')\n\n      // Retry on network errors, but not on client errors (4xx) or application errors\n      if (isNetworkError && attempt < maxRetries) {\n        console.warn(`Network error, retrying (${attempt + 1}/${maxRetries})...`)\n        // Wait before retry with exponential backoff\n        await new Promise(resolve => setTimeout(resolve, Math.pow(2, attempt) * 1000))\n        continue\n      }\n\n      // Don't retry, throw the error\n      console.error('API Request Error:', {\n        endpoint,\n        error: error.message || error,\n        stack: error.stack,\n        attempt: attempt + 1\n      })\n      \n      // If it's already an Error object with a message, re-throw it\n      if (error instanceof Error && error.message) {\n        throw error\n      }\n      \n      // Otherwise create a new Error with a proper message\n      throw new Error(error?.message || 'Network error. Please check your connection and try again.')\n    }\n  }\n\n  // If we get here, all retries failed\n  throw lastError || new Error('Request failed after retries')\n}\n\n// Auth API\nexport const authAPI = {\n  register: (data: { email: string; password: string; fullName: string; referralCode: string }) =>\n    apiRequest('/auth/register', { method: 'POST', body: JSON.stringify(data) }),\n\n  login: (data: { email: string; password: string; twoFactorCode?: string }) =>\n    apiRequest('/auth/login', { method: 'POST', body: JSON.stringify(data) }),\n\n  verifyEmail: (token: string) =>\n    apiRequest('/auth/verify-email', { method: 'POST', body: JSON.stringify({ token }) }),\n\n  forgotPassword: (email: string) =>\n    apiRequest('/auth/forgot-password', { method: 'POST', body: JSON.stringify({ email }) }),\n\n  resetPassword: (token: string, newPassword: string) =>\n    apiRequest('/auth/reset-password', { method: 'POST', body: JSON.stringify({ token, newPassword }) }),\n\n  enable2FA: (token: string) =>\n    apiRequest('/auth/enable-2fa', { method: 'POST', token }),\n\n  verify2FA: (code: string, token: string) =>\n    apiRequest('/auth/verify-2fa', { method: 'POST', body: JSON.stringify({ code }), token }),\n}\n\n// User API\nexport const userAPI = {\n  getProfile: (token: string) =>\n    apiRequest('/user/profile', { token }),\n\n  updateProfile: (data: any, token: string) =>\n    apiRequest('/user/profile', { method: 'PUT', body: JSON.stringify(data), token }),\n\n  getReferralCode: (token: string) =>\n    apiRequest('/user/referral-code', { token }),\n}\n\n// Package API\nexport const packageAPI = {\n  create: (data: { amount: number; network: string }, token: string) =>\n    apiRequest('/packages/create', { method: 'POST', body: JSON.stringify(data), token }),\n\n  getMyPackages: (params: any, token: string) => {\n    const query = new URLSearchParams(params).toString()\n    return apiRequest(`/packages/my-packages?${query}`, { token })\n  },\n\n  getPackageById: (id: string, token: string) =>\n    apiRequest(`/packages/${id}`, { token }),\n\n  verifyDeposit: (id: string, txHash: string, token: string) =>\n    apiRequest(`/packages/${id}/verify-deposit`, { method: 'POST', body: JSON.stringify({ txHash }), token }),\n}\n\n// Bot API\nexport const botAPI = {\n  activate: (data: { botType: string; network: string; txHash: string }, token: string) =>\n    apiRequest('/bots/activate', { method: 'POST', body: JSON.stringify(data), token }),\n\n  getMyBots: (token: string) =>\n    apiRequest('/bots/my-bots', { token }),\n\n  checkEligibility: (botType: string, token: string) =>\n    apiRequest(`/bots/check-eligibility?botType=${botType}`, { token }),\n}\n\n// Earnings API\nexport const earningsAPI = {\n  getSummary: (token: string) =>\n    apiRequest('/earnings/summary', { token }),\n\n  getHistory: (params: any, token: string) => {\n    const query = new URLSearchParams(params).toString()\n    return apiRequest(`/earnings/history?${query}`, { token })\n  },\n\n  getRoiSchedule: (token: string) =>\n    apiRequest('/earnings/roi-schedule', { token }),\n}\n\n// Referral API\nexport const referralAPI = {\n  getStats: (token: string) =>\n    apiRequest('/referrals/stats', { token }),\n\n  getTree: (level: number | undefined, token: string) => {\n    const query = level ? `?level=${level}` : ''\n    return apiRequest(`/referrals/tree${query}`, { token })\n  },\n\n  getDirect: (token: string) =>\n    apiRequest('/referrals/direct', { token }),\n\n  getLevelBreakdown: (token: string) =>\n    apiRequest('/referrals/level-breakdown', { token }),\n}\n\n// Withdrawal API\nexport const withdrawalAPI = {\n  request: (data: any, token: string) =>\n    apiRequest('/withdrawals/request', { method: 'POST', body: JSON.stringify(data), token }),\n\n  getHistory: (params: any, token: string) => {\n    const query = new URLSearchParams(params).toString()\n    return apiRequest(`/withdrawals/history?${query}`, { token })\n  },\n\n  checkEligibility: (token: string) =>\n    apiRequest('/withdrawals/check-eligibility', { token }),\n}\n\n// Transaction API\nexport const transactionAPI = {\n  getHistory: (params: any, token: string) => {\n    const query = new URLSearchParams(params).toString()\n    return apiRequest(`/transactions/history?${query}`, { token })\n  },\n\n  getById: (id: string, token: string) =>\n    apiRequest(`/transactions/${id}`, { token }),\n}\n\n// Admin API\nexport const adminAPI = {\n  // User Management\n  getUsers: (params: any, token: string) => {\n    const query = new URLSearchParams(params).toString()\n    return apiRequest(`/admin/users?${query}`, { token })\n  },\n\n  // Withdrawal Management\n  getPendingWithdrawals: (token: string) =>\n    apiRequest('/admin/withdrawals/pending', { token }),\n\n  approveWithdrawal: (id: string, token: string) =>\n    apiRequest(`/admin/withdrawals/${id}/approve`, { method: 'POST', body: JSON.stringify({}), token }),\n\n  rejectWithdrawal: (id: string, reason: string, token: string) =>\n    apiRequest(`/admin/withdrawals/${id}/reject`, { method: 'POST', body: JSON.stringify({ reason }), token }),\n\n  // Statistics\n  getStatistics: (token: string) =>\n    apiRequest('/admin/statistics', { token }),\n\n  // Bot Package Management\n  getBotPackages: (token: string) =>\n    apiRequest('/admin/bot-packages', { token }),\n\n  createBotPackage: (data: { name: string; type: string; price: number; roi: number; duration?: number; description?: string; isActive?: boolean }, token: string) =>\n    apiRequest('/admin/bot-packages', { method: 'POST', body: JSON.stringify(data), token }),\n\n  updateBotPackage: (id: string, data: { name?: string; type?: string; price?: number; roi?: number; duration?: number; description?: string; isActive?: boolean }, token: string) =>\n    apiRequest('/admin/bot-packages', { method: 'PUT', body: JSON.stringify({ id, ...data }), token }),\n\n  deleteBotPackage: (id: string, token: string) =>\n    apiRequest(`/admin/bot-packages?id=${id}`, { method: 'DELETE', token }),\n\n  // System Settings\n  updateSystemSettings: (data: { key: string; value: string }, token: string) =>\n    apiRequest('/admin/system-settings', { method: 'POST', body: JSON.stringify(data), token }),\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 368, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/LENOVO/Desktop/nsc-test/vercel-download/src/utils/error-helpers.ts"],"sourcesContent":["/**\r\n * Extract a user-friendly error message from various error formats\r\n */\r\nexport function extractErrorMessage(err: any, defaultMessage: string = 'An error occurred'): string {\r\n  // Handle null/undefined\r\n  if (!err) {\r\n    return defaultMessage\r\n  }\r\n\r\n  // Handle Error instances\r\n  if (err instanceof Error) {\r\n    return err.message || defaultMessage\r\n  }\r\n\r\n  // Handle response objects from API errors\r\n  if (err.response?.data) {\r\n    const data = err.response.data\r\n    if (typeof data === 'string') {\r\n      return data\r\n    }\r\n    if (data.error && typeof data.error === 'string') {\r\n      return data.error\r\n    }\r\n    if (data.message && typeof data.message === 'string') {\r\n      return data.message\r\n    }\r\n  }\r\n\r\n  // Handle direct error property\r\n  if (err.error) {\r\n    if (typeof err.error === 'string') {\r\n      return err.error\r\n    }\r\n    if (err.error.message && typeof err.error.message === 'string') {\r\n      return err.error.message\r\n    }\r\n  }\r\n\r\n  // Handle direct message property\r\n  if (err.message && typeof err.message === 'string') {\r\n    return err.message\r\n  }\r\n\r\n  // Handle string errors\r\n  if (typeof err === 'string') {\r\n    return err\r\n  }\r\n\r\n  // Handle objects we couldn't parse\r\n  if (typeof err === 'object') {\r\n    try {\r\n      // Try to extract any string value\r\n      const keys = Object.keys(err)\r\n      for (const key of keys) {\r\n        if (typeof err[key] === 'string' && err[key].length > 0) {\r\n          return err[key]\r\n        }\r\n      }\r\n      \r\n      // If no string found, stringify the object (last resort)\r\n      const stringified = JSON.stringify(err)\r\n      if (stringified !== '{}' && stringified !== '[object Object]') {\r\n        return stringified\r\n      }\r\n    } catch (e) {\r\n      console.error('Error while extracting error message:', e)\r\n    }\r\n  }\r\n\r\n  // Fallback to default message\r\n  return defaultMessage\r\n}\r\n\r\n/**\r\n * Format error for logging\r\n */\r\nexport function formatErrorForLogging(err: any): Record<string, any> {\r\n  return {\r\n    type: typeof err,\r\n    constructor: err?.constructor?.name,\r\n    message: err?.message,\r\n    error: err?.error,\r\n    response: err?.response?.data,\r\n    status: err?.status || err?.response?.status,\r\n    stack: err?.stack,\r\n    raw: err\r\n  }\r\n}\r\n\r\n/**\r\n * Check if error is a specific type\r\n */\r\nexport function isNetworkError(err: any): boolean {\r\n  const message = extractErrorMessage(err, '').toLowerCase()\r\n  return message.includes('network') || \r\n         message.includes('fetch') || \r\n         message.includes('connection') ||\r\n         message.includes('timeout') ||\r\n         err?.name === 'NetworkError' ||\r\n         err?.code === 'NETWORK_ERROR'\r\n}\r\n\r\nexport function isAuthError(err: any): boolean {\r\n  const status = err?.status || err?.response?.status\r\n  return status === 401 || status === 403\r\n}\r\n\r\nexport function isValidationError(err: any): boolean {\r\n  const status = err?.status || err?.response?.status\r\n  return status === 400 || status === 422\r\n}\r\n"],"names":[],"mappings":"AAAA;;CAEC;;;;;;;;;;;;AACM,SAAS,oBAAoB,GAAQ,EAAE,iBAAyB,mBAAmB;IACxF,wBAAwB;IACxB,IAAI,CAAC,KAAK;QACR,OAAO;IACT;IAEA,yBAAyB;IACzB,IAAI,eAAe,OAAO;QACxB,OAAO,IAAI,OAAO,IAAI;IACxB;IAEA,0CAA0C;IAC1C,IAAI,IAAI,QAAQ,EAAE,MAAM;QACtB,MAAM,OAAO,IAAI,QAAQ,CAAC,IAAI;QAC9B,IAAI,OAAO,SAAS,UAAU;YAC5B,OAAO;QACT;QACA,IAAI,KAAK,KAAK,IAAI,OAAO,KAAK,KAAK,KAAK,UAAU;YAChD,OAAO,KAAK,KAAK;QACnB;QACA,IAAI,KAAK,OAAO,IAAI,OAAO,KAAK,OAAO,KAAK,UAAU;YACpD,OAAO,KAAK,OAAO;QACrB;IACF;IAEA,+BAA+B;IAC/B,IAAI,IAAI,KAAK,EAAE;QACb,IAAI,OAAO,IAAI,KAAK,KAAK,UAAU;YACjC,OAAO,IAAI,KAAK;QAClB;QACA,IAAI,IAAI,KAAK,CAAC,OAAO,IAAI,OAAO,IAAI,KAAK,CAAC,OAAO,KAAK,UAAU;YAC9D,OAAO,IAAI,KAAK,CAAC,OAAO;QAC1B;IACF;IAEA,iCAAiC;IACjC,IAAI,IAAI,OAAO,IAAI,OAAO,IAAI,OAAO,KAAK,UAAU;QAClD,OAAO,IAAI,OAAO;IACpB;IAEA,uBAAuB;IACvB,IAAI,OAAO,QAAQ,UAAU;QAC3B,OAAO;IACT;IAEA,mCAAmC;IACnC,IAAI,OAAO,QAAQ,UAAU;QAC3B,IAAI;YACF,kCAAkC;YAClC,MAAM,OAAO,OAAO,IAAI,CAAC;YACzB,KAAK,MAAM,OAAO,KAAM;gBACtB,IAAI,OAAO,GAAG,CAAC,IAAI,KAAK,YAAY,GAAG,CAAC,IAAI,CAAC,MAAM,GAAG,GAAG;oBACvD,OAAO,GAAG,CAAC,IAAI;gBACjB;YACF;YAEA,yDAAyD;YACzD,MAAM,cAAc,KAAK,SAAS,CAAC;YACnC,IAAI,gBAAgB,QAAQ,gBAAgB,mBAAmB;gBAC7D,OAAO;YACT;QACF,EAAE,OAAO,GAAG;YACV,QAAQ,KAAK,CAAC,yCAAyC;QACzD;IACF;IAEA,8BAA8B;IAC9B,OAAO;AACT;AAKO,SAAS,sBAAsB,GAAQ;IAC5C,OAAO;QACL,MAAM,OAAO;QACb,aAAa,KAAK,aAAa;QAC/B,SAAS,KAAK;QACd,OAAO,KAAK;QACZ,UAAU,KAAK,UAAU;QACzB,QAAQ,KAAK,UAAU,KAAK,UAAU;QACtC,OAAO,KAAK;QACZ,KAAK;IACP;AACF;AAKO,SAAS,eAAe,GAAQ;IACrC,MAAM,UAAU,oBAAoB,KAAK,IAAI,WAAW;IACxD,OAAO,QAAQ,QAAQ,CAAC,cACjB,QAAQ,QAAQ,CAAC,YACjB,QAAQ,QAAQ,CAAC,iBACjB,QAAQ,QAAQ,CAAC,cACjB,KAAK,SAAS,kBACd,KAAK,SAAS;AACvB;AAEO,SAAS,YAAY,GAAQ;IAClC,MAAM,SAAS,KAAK,UAAU,KAAK,UAAU;IAC7C,OAAO,WAAW,OAAO,WAAW;AACtC;AAEO,SAAS,kBAAkB,GAAQ;IACxC,MAAM,SAAS,KAAK,UAAU,KAAK,UAAU;IAC7C,OAAO,WAAW,OAAO,WAAW;AACtC"}},
    {"offset": {"line": 471, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/LENOVO/Desktop/nsc-test/vercel-download/src/lib/mobile-utils.ts"],"sourcesContent":["/**\r\n * Mobile utility functions for better mobile experience\r\n */\r\n\r\n/**\r\n * Detect if user is on mobile device\r\n */\r\nexport function isMobileDevice(): boolean {\r\n  if (typeof window === 'undefined') return false\r\n  \r\n  return /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(\r\n    navigator.userAgent\r\n  )\r\n}\r\n\r\n/**\r\n * Detect if user is on slow connection\r\n */\r\nexport function isSlowConnection(): boolean {\r\n  if (typeof navigator === 'undefined' || !('connection' in navigator)) {\r\n    return false\r\n  }\r\n  \r\n  const connection = (navigator as any).connection\r\n  \r\n  if (!connection) return false\r\n  \r\n  // Check effective type (slow-2g, 2g, 3g, 4g)\r\n  if (connection.effectiveType === 'slow-2g' || connection.effectiveType === '2g') {\r\n    return true\r\n  }\r\n  \r\n  // Check if saveData is enabled (user opted for reduced data usage)\r\n  if (connection.saveData) {\r\n    return true\r\n  }\r\n  \r\n  return false\r\n}\r\n\r\n/**\r\n * Get recommended timeout based on connection\r\n */\r\nexport function getRecommendedTimeout(): number {\r\n  if (isSlowConnection()) {\r\n    return 60000 // 60 seconds for slow connections\r\n  }\r\n  \r\n  if (isMobileDevice()) {\r\n    return 30000 // 30 seconds for mobile\r\n  }\r\n  \r\n  return 15000 // 15 seconds for desktop\r\n}\r\n\r\n/**\r\n * Add retry logic for fetch requests on mobile\r\n */\r\nexport async function fetchWithRetry(\r\n  url: string,\r\n  options: RequestInit = {},\r\n  maxRetries: number = 2\r\n): Promise<Response> {\r\n  let lastError: any\r\n  \r\n  for (let attempt = 0; attempt <= maxRetries; attempt++) {\r\n    try {\r\n      const controller = new AbortController()\r\n      const timeout = getRecommendedTimeout()\r\n      const timeoutId = setTimeout(() => controller.abort(), timeout)\r\n      \r\n      const response = await fetch(url, {\r\n        ...options,\r\n        signal: controller.signal,\r\n      })\r\n      \r\n      clearTimeout(timeoutId)\r\n      return response\r\n    } catch (error: any) {\r\n      lastError = error\r\n      \r\n      // Check if it's a network error worth retrying\r\n      const shouldRetry =\r\n        error.name === 'AbortError' ||\r\n        error.message?.includes('fetch') ||\r\n        error.message?.includes('network') ||\r\n        error.message?.includes('timeout')\r\n      \r\n      if (shouldRetry && attempt < maxRetries) {\r\n        // Exponential backoff\r\n        const delay = Math.pow(2, attempt) * 1000\r\n        await new Promise(resolve => setTimeout(resolve, delay))\r\n        continue\r\n      }\r\n      \r\n      throw error\r\n    }\r\n  }\r\n  \r\n  throw lastError\r\n}\r\n\r\n/**\r\n * Show user-friendly error message based on error type\r\n */\r\nexport function getMobileFriendlyErrorMessage(error: any): string {\r\n  if (!error) return 'An error occurred. Please try again.'\r\n  \r\n  const message = error.message || error.error || String(error)\r\n  \r\n  // Network errors\r\n  if (message.includes('timeout') || message.includes('ETIMEDOUT')) {\r\n    return 'Connection timeout. Please check your internet and try again.'\r\n  }\r\n  \r\n  if (message.includes('network') || message.includes('fetch failed')) {\r\n    return 'Network error. Please check your connection and try again.'\r\n  }\r\n  \r\n  if (message.includes('ECONNREFUSED') || message.includes('connect')) {\r\n    return 'Cannot connect to server. Please try again later.'\r\n  }\r\n  \r\n  // Database errors\r\n  if (message.includes('database') || message.includes('Database')) {\r\n    return 'Service temporarily unavailable. Please try again in a moment.'\r\n  }\r\n  \r\n  // Auth errors\r\n  if (message.includes('Invalid email or password')) {\r\n    return 'Invalid email or password'\r\n  }\r\n  \r\n  if (message.includes('blocked')) {\r\n    return 'Your account has been blocked. Please contact support.'\r\n  }\r\n  \r\n  if (message.includes('2FA')) {\r\n    return message // Keep 2FA messages as-is\r\n  }\r\n  \r\n  // Rate limiting\r\n  if (message.includes('Too many')) {\r\n    return message // Keep rate limit messages as-is\r\n  }\r\n  \r\n  // Default\r\n  return message || 'An error occurred. Please try again.'\r\n}\r\n"],"names":[],"mappings":"AAAA;;CAEC,GAED;;CAEC;;;;;;;;;;;;AACM,SAAS;IACd,wCAAmC,OAAO;;;AAK5C;AAKO,SAAS;IACd,IAAI,OAAO,cAAc,eAAe,CAAC,CAAC,gBAAgB,SAAS,GAAG;QACpE,OAAO;IACT;IAEA,MAAM,aAAa,AAAC,UAAkB,UAAU;IAEhD,IAAI,CAAC,YAAY,OAAO;IAExB,6CAA6C;IAC7C,IAAI,WAAW,aAAa,KAAK,aAAa,WAAW,aAAa,KAAK,MAAM;QAC/E,OAAO;IACT;IAEA,mEAAmE;IACnE,IAAI,WAAW,QAAQ,EAAE;QACvB,OAAO;IACT;IAEA,OAAO;AACT;AAKO,SAAS;IACd,IAAI,oBAAoB;QACtB,OAAO,MAAM,kCAAkC;;IACjD;IAEA,IAAI,kBAAkB;QACpB,OAAO,MAAM,wBAAwB;;IACvC;IAEA,OAAO,MAAM,yBAAyB;;AACxC;AAKO,eAAe,eACpB,GAAW,EACX,UAAuB,CAAC,CAAC,EACzB,aAAqB,CAAC;IAEtB,IAAI;IAEJ,IAAK,IAAI,UAAU,GAAG,WAAW,YAAY,UAAW;QACtD,IAAI;YACF,MAAM,aAAa,IAAI;YACvB,MAAM,UAAU;YAChB,MAAM,YAAY,WAAW,IAAM,WAAW,KAAK,IAAI;YAEvD,MAAM,WAAW,MAAM,MAAM,KAAK;gBAChC,GAAG,OAAO;gBACV,QAAQ,WAAW,MAAM;YAC3B;YAEA,aAAa;YACb,OAAO;QACT,EAAE,OAAO,OAAY;YACnB,YAAY;YAEZ,+CAA+C;YAC/C,MAAM,cACJ,MAAM,IAAI,KAAK,gBACf,MAAM,OAAO,EAAE,SAAS,YACxB,MAAM,OAAO,EAAE,SAAS,cACxB,MAAM,OAAO,EAAE,SAAS;YAE1B,IAAI,eAAe,UAAU,YAAY;gBACvC,sBAAsB;gBACtB,MAAM,QAAQ,KAAK,GAAG,CAAC,GAAG,WAAW;gBACrC,MAAM,IAAI,QAAQ,CAAA,UAAW,WAAW,SAAS;gBACjD;YACF;YAEA,MAAM;QACR;IACF;IAEA,MAAM;AACR;AAKO,SAAS,8BAA8B,KAAU;IACtD,IAAI,CAAC,OAAO,OAAO;IAEnB,MAAM,UAAU,MAAM,OAAO,IAAI,MAAM,KAAK,IAAI,OAAO;IAEvD,iBAAiB;IACjB,IAAI,QAAQ,QAAQ,CAAC,cAAc,QAAQ,QAAQ,CAAC,cAAc;QAChE,OAAO;IACT;IAEA,IAAI,QAAQ,QAAQ,CAAC,cAAc,QAAQ,QAAQ,CAAC,iBAAiB;QACnE,OAAO;IACT;IAEA,IAAI,QAAQ,QAAQ,CAAC,mBAAmB,QAAQ,QAAQ,CAAC,YAAY;QACnE,OAAO;IACT;IAEA,kBAAkB;IAClB,IAAI,QAAQ,QAAQ,CAAC,eAAe,QAAQ,QAAQ,CAAC,aAAa;QAChE,OAAO;IACT;IAEA,cAAc;IACd,IAAI,QAAQ,QAAQ,CAAC,8BAA8B;QACjD,OAAO;IACT;IAEA,IAAI,QAAQ,QAAQ,CAAC,YAAY;QAC/B,OAAO;IACT;IAEA,IAAI,QAAQ,QAAQ,CAAC,QAAQ;QAC3B,OAAO,QAAQ,0BAA0B;;IAC3C;IAEA,gBAAgB;IAChB,IAAI,QAAQ,QAAQ,CAAC,aAAa;QAChC,OAAO,QAAQ,iCAAiC;;IAClD;IAEA,UAAU;IACV,OAAO,WAAW;AACpB"}},
    {"offset": {"line": 588, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/LENOVO/Desktop/nsc-test/vercel-download/src/hooks/useAuth.ts"],"sourcesContent":["import { useState, useEffect, useCallback } from 'react'\nimport { useAuthStore } from '@/store/authStore'\nimport { authAPI } from '@/lib/api'\nimport { getTokenFromStorage, setTokenToStorage, removeTokenFromStorage, setRefreshTokenToStorage } from '@/lib/auth'\nimport { extractErrorMessage, formatErrorForLogging } from '@/utils/error-helpers'\nimport { getMobileFriendlyErrorMessage } from '@/lib/mobile-utils'\n\nexport function useAuth() {\n  const { user, setUser, clearUser } = useAuthStore()\n  const [loading, setLoading] = useState(false)\n  const [error, setError] = useState<string | null>(null)\n  const [initializing, setInitializing] = useState(true)\n\n  // Validate current token on hook initialization\n  const validateToken = useCallback(async () => {\n    const token = getTokenFromStorage()\n    \n    if (!token) {\n      console.log('ðŸ” No token found, user not authenticated')\n      clearUser()\n      setInitializing(false)\n      return false\n    }\n\n    try {\n      console.log('ðŸ” Validating existing token...')\n      const response = await fetch('/api/auth/validate', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${token}`\n        },\n        credentials: 'include'\n      })\n\n      if (response.ok) {\n        const data = await response.json()\n        if (data.valid && data.user) {\n          console.log('âœ… Token valid, user authenticated:', data.user.email)\n          setUser({\n            id: data.user.id,\n            email: data.user.email,\n            username: data.user.email.split('@')[0], // Fallback username\n            fullName: data.user.fullName || null,\n            referralCode: data.user.referralCode || '',\n            isAdmin: data.user.isAdmin || false,\n            isEmailVerified: data.user.isEmailVerified || false,\n            twoFactorEnabled: data.user.twoFactorEnabled || false\n          })\n          setInitializing(false)\n          return true\n        }\n      }\n\n      console.log('âŒ Token invalid, clearing authentication')\n      removeTokenFromStorage()\n      clearUser()\n      setInitializing(false)\n      return false\n    } catch (error) {\n      console.error('âŒ Token validation error:', error)\n      removeTokenFromStorage()\n      clearUser()\n      setInitializing(false)\n      return false\n    }\n  }, [setUser, clearUser])\n\n  // Initialize auth state on mount\n  useEffect(() => {\n    validateToken()\n  }, [validateToken])\n\n  const login = useCallback(async (email: string, password: string, twoFactorCode?: string) => {\n    setLoading(true)\n    setError(null)\n    \n    try {\n      const response: any = await authAPI.login({ email, password, twoFactorCode })\n      \n      if (response?.success) {\n        if (response.token) {\n          // Store token in both localStorage and cookie\n          setTokenToStorage(response.token)\n          if (response.refreshToken) {\n            setRefreshTokenToStorage(response.refreshToken)\n          }\n        }\n        if (response.user) {\n          setUser(response.user)\n          // Store admin status\n          if (response.user.isAdmin) {\n            localStorage.setItem('adminToken', response.token)\n          }\n        }\n        return { success: true }\n      }\n      \n      // Handle 2FA requirement\n      if (response?.requires2FA) {\n        setError('Please enter your 2FA code')\n        return { success: false, error: '2FA code required' }\n      }\n      \n      setError('Login failed. Please try again.')\n      return { success: false, error: 'Login failed' }\n    } catch (err: any) {\n      console.error('Login error in useAuth:', formatErrorForLogging(err))\n      \n      // Use mobile-friendly error messages\n      const errorMessage = getMobileFriendlyErrorMessage(err)\n      \n      // Check for 2FA requirement\n      if (errorMessage.includes('2FA')) {\n        return { success: false, error: errorMessage }\n      }\n      \n      setError(errorMessage)\n      return { success: false, error: errorMessage }\n    } finally {\n      setLoading(false)\n    }\n  }, [setUser])\n\n  const register = useCallback(async (data: {\n    email: string\n    password: string\n    fullName: string\n    referralCode: string  // Now required, not optional\n  }) => {\n    setLoading(true)\n    setError(null)\n\n    try {\n      console.log('Registering with data:', data)\n      const response: any = await authAPI.register(data)\n      \n      if (response?.token) {\n        setTokenToStorage(response.token)\n        if (response.user) {\n          setUser(response.user)\n        }\n        return { success: true }\n      }\n      \n      return { success: false, error: response?.message || 'Registration failed' }\n    } catch (err: any) {\n      console.error('Registration error in useAuth:', formatErrorForLogging(err))\n      \n      // Use mobile-friendly error messages\n      const errorMessage = getMobileFriendlyErrorMessage(err)\n      \n      setError(errorMessage)\n      return { success: false, error: errorMessage }\n    } finally {\n      setLoading(false)\n    }\n  }, [setUser])\n\n  const logout = useCallback(async () => {\n    removeTokenFromStorage()\n    clearUser()\n    \n    // Clear cookies by calling logout API\n    try {\n      await fetch('/api/auth/logout', { method: 'POST' })\n    } catch (error) {\n      console.error('Logout error:', error)\n    }\n\n    // Redirect to home\n    window.location.href = '/'\n  }, [clearUser])\n\n  return {\n    user,\n    loading,\n    error,\n    initializing,\n    login,\n    register,\n    logout,\n    validateToken,\n    setUser,\n    isAuthenticated: !!user\n  }\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 798, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/LENOVO/Desktop/nsc-test/vercel-download/src/components/ui/sidebar.tsx"],"sourcesContent":["'use client'\n\nimport React, { useState } from 'react'\nimport Link from 'next/link'\nimport { usePathname, useRouter } from 'next/navigation'\nimport { useAuth } from '@/hooks/useAuth'\nimport { \n  Home, \n  Package, \n  Bot, \n  TrendingUp, \n  Users, \n  Wallet,\n  Settings,\n  HelpCircle,\n  Shield,\n  Activity,\n  LogOut,\n  Receipt,\n  Zap,\n  Gift,\n  BarChart3,\n  CreditCard,\n  UserCircle2,\n  ChevronRight\n} from 'lucide-react'\n\ninterface SidebarProps {\n  isOpen?: boolean\n  onClose?: () => void\n}\n\nexport const Sidebar: React.FC<SidebarProps> = ({ isOpen = true, onClose }) => {\n  const pathname = usePathname()\n  const router = useRouter()\n  const { logout } = useAuth()\n  const [expandedSection, setExpandedSection] = useState<string | null>('main')\n\n  const handleLogout = async () => {\n    try {\n      await logout()\n      router.push('/login')\n    } catch (error) {\n      console.error('Logout error:', error)\n    }\n  }\n\n  const menuItems = [\n    {\n      id: 'main',\n      title: 'Main Menu',\n      icon: Home,\n      items: [\n        { href: '/dashboard', label: 'Dashboard', icon: Home, badge: null },\n        { href: '/packages', label: 'Packages', icon: Package, badge: null },\n        { href: '/bots', label: 'My Bots', icon: Bot, badge: 'Active' },\n      ]\n    },\n    {\n      id: 'finance',\n      title: 'Finance',\n      icon: Wallet,\n      items: [\n        { href: '/earnings', label: 'Earnings', icon: TrendingUp, badge: null },\n        { href: '/withdrawals', label: 'Withdraw', icon: Wallet, badge: null },\n        { href: '/transactions', label: 'Transactions', icon: Receipt, badge: null },\n      ]\n    },\n    {\n      id: 'network',\n      title: 'Network',\n      icon: Users,\n      items: [\n        { href: '/network', label: 'Referral Tree', icon: Users, badge: null },\n        { href: '/team-performance', label: 'Performance', icon: BarChart3, badge: null },\n      ]\n    },\n    {\n      id: 'account',\n      title: 'Settings',\n      icon: Settings,\n      items: [\n        { href: '/profile', label: 'My Profile', icon: UserCircle2, badge: null },\n        { href: '/security', label: 'Security', icon: Shield, badge: null },\n        { href: '/support', label: 'Help & Support', icon: HelpCircle, badge: null },\n      ]\n    }\n  ]\n\n  const isActive = (href: string) => pathname === href\n  \n  const toggleSection = (sectionId: string) => {\n    setExpandedSection(expandedSection === sectionId ? null : sectionId)\n  }\n\n  return (\n    <aside className={`\n      fixed inset-y-0 left-0 z-50\n      w-72 bg-gradient-to-b from-gray-950 via-black to-gray-950\n      border-r border-gray-800/50\n      h-screen flex flex-col\n      md:translate-x-0 md:block\n      transition-transform duration-300 ease-in-out\n      shadow-2xl\n      ${isOpen ? 'translate-x-0' : '-translate-x-full'}\n    `}>\n      {/* Logo Section with Glow Effect */}\n      <div className=\"relative p-5 border-b border-gray-800/50 bg-gradient-to-br from-gray-900/80 to-black backdrop-blur-sm flex-shrink-0\">\n        <div className=\"absolute inset-0 bg-[#00ff00]/5 blur-xl\" />\n        <Link \n          href=\"/dashboard\" \n          className=\"relative flex items-center gap-4 active:opacity-70 transition-all duration-200 group\" \n          onClick={onClose}\n        >\n          <div className=\"relative w-12 h-12 bg-gradient-to-br from-[#00ff00] to-[#00cc00] rounded-xl flex items-center justify-center flex-shrink-0 shadow-lg shadow-[#00ff00]/30 group-hover:shadow-[#00ff00]/50 transition-all duration-300 group-hover:scale-105\">\n            <Zap className=\"w-7 h-7 text-black\" strokeWidth={2.5} />\n            <div className=\"absolute inset-0 bg-[#00ff00]/20 rounded-xl blur-md\" />\n          </div>\n          <div>\n            <h2 className=\"text-white font-bold text-xl tracking-tight\">NSC Bot</h2>\n            <p className=\"text-gray-400 text-xs font-medium\">AI Trading Platform</p>\n          </div>\n        </Link>\n      </div>\n\n      {/* Navigation Menu - Scrollable */}\n      <nav className=\"flex-1 overflow-y-auto min-h-0 px-3 py-4 space-y-1 custom-scrollbar\">\n        {menuItems.map((section) => {\n          const SectionIcon = section.icon\n          const isExpanded = expandedSection === section.id\n          const hasActiveItem = section.items.some(item => isActive(item.href))\n          \n          return (\n            <div key={section.id} className=\"mb-2\">\n              {/* Section Header - Collapsible */}\n              <button\n                onClick={() => toggleSection(section.id)}\n                className={`\n                  w-full flex items-center justify-between px-3 py-2 rounded-lg text-sm font-semibold\n                  transition-all duration-200 group\n                  ${hasActiveItem || isExpanded\n                    ? 'text-[#00ff00] bg-[#00ff00]/10'\n                    : 'text-gray-400 hover:text-gray-200 hover:bg-gray-800/50'\n                  }\n                `}\n              >\n                <div className=\"flex items-center gap-2\">\n                  <SectionIcon className=\"h-4 w-4\" />\n                  <span className=\"text-xs uppercase tracking-wider\">{section.title}</span>\n                </div>\n                <ChevronRight \n                  className={`h-3.5 w-3.5 transition-transform duration-200 ${isExpanded ? 'rotate-90' : ''}`} \n                />\n              </button>\n\n              {/* Section Items */}\n              <div className={`\n                overflow-hidden transition-all duration-300 ease-in-out\n                ${isExpanded ? 'max-h-96 opacity-100 mt-1' : 'max-h-0 opacity-0'}\n              `}>\n                <ul className=\"space-y-0.5 pl-1\">\n                  {section.items.map((item) => {\n                    const Icon = item.icon\n                    const active = isActive(item.href)\n                    return (\n                      <li key={item.href}>\n                        <Link\n                          href={item.href}\n                          onClick={onClose}\n                          className={`\n                            relative flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm\n                            transition-all duration-200 group overflow-hidden\n                            ${active\n                              ? 'bg-gradient-to-r from-[#00ff00] to-[#00cc00] text-black font-semibold shadow-lg shadow-[#00ff00]/20'\n                              : 'hover:bg-gray-800/70 text-gray-300 hover:text-white hover:translate-x-1'\n                            }\n                          `}\n                        >\n                          {active && (\n                            <div className=\"absolute inset-0 bg-gradient-to-r from-[#00ff00]/20 to-transparent animate-pulse\" />\n                          )}\n                          <Icon className={`h-4 w-4 flex-shrink-0 relative z-10 ${active ? '' : 'group-hover:scale-110 transition-transform'}`} />\n                          <span className=\"flex-1 font-medium relative z-10\">{item.label}</span>\n                          {item.badge && (\n                            <span className={`\n                              px-2 py-0.5 rounded-full text-[10px] font-bold relative z-10\n                              ${active \n                                ? 'bg-black/20 text-black' \n                                : 'bg-[#00ff00]/20 text-[#00ff00]'\n                              }\n                            `}>\n                              {item.badge}\n                            </span>\n                          )}\n                          {active && (\n                            <div className=\"absolute left-0 top-1/2 -translate-y-1/2 w-1 h-8 bg-black rounded-r-full\" />\n                          )}\n                        </Link>\n                      </li>\n                    )\n                  })}\n                </ul>\n              </div>\n            </div>\n          )\n        })}\n      </nav>\n\n      {/* Quick Stats Card */}\n      <div className=\"mx-3 mb-3 p-4 bg-gradient-to-br from-gray-900/90 to-gray-800/90 border border-gray-700/50 rounded-xl backdrop-blur-sm\">\n        <div className=\"flex items-center gap-3 mb-3\">\n          <div className=\"w-10 h-10 bg-[#00ff00]/10 rounded-lg flex items-center justify-center\">\n            <Gift className=\"w-5 h-5 text-[#00ff00]\" />\n          </div>\n          <div className=\"flex-1\">\n            <p className=\"text-xs text-gray-400 font-medium\">Quick Action</p>\n            <p className=\"text-sm text-white font-bold\">Upgrade Now</p>\n          </div>\n        </div>\n        <Link \n          href=\"/packages/buy\" \n          className=\"block w-full bg-gradient-to-r from-[#00ff00] to-[#00cc00] hover:from-[#00cc00] hover:to-[#00ff00] text-black px-4 py-2.5 rounded-lg font-bold text-sm text-center transition-all active:scale-95 shadow-lg shadow-[#00ff00]/20 hover:shadow-[#00ff00]/40\" \n          onClick={onClose}\n        >\n          Buy Package\n        </Link>\n      </div>\n\n      {/* Bottom Actions */}\n      <div className=\"p-4 border-t border-gray-800/50 bg-gray-900/50 backdrop-blur-sm flex-shrink-0\">\n        <button\n          onClick={handleLogout}\n          className=\"w-full bg-gray-800/80 hover:bg-gradient-to-r hover:from-red-600 hover:to-red-700 active:bg-red-800 text-gray-300 hover:text-white px-4 py-3 rounded-lg font-semibold text-sm flex items-center justify-center gap-3 transition-all duration-200 active:scale-95 border border-gray-700/50 hover:border-red-500/50\"\n        >\n          <LogOut className=\"h-4 w-4\" />\n          <span>Logout</span>\n        </button>\n      </div>\n\n      {/* Custom Scrollbar Styles */}\n      <style jsx>{`\n        .custom-scrollbar::-webkit-scrollbar {\n          width: 4px;\n        }\n        .custom-scrollbar::-webkit-scrollbar-track {\n          background: transparent;\n        }\n        .custom-scrollbar::-webkit-scrollbar-thumb {\n          background: rgba(0, 255, 0, 0.2);\n          border-radius: 2px;\n        }\n        .custom-scrollbar::-webkit-scrollbar-thumb:hover {\n          background: rgba(0, 255, 0, 0.4);\n        }\n      `}</style>\n    </aside>\n  )\n}\n\nexport default Sidebar\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1299, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/LENOVO/Desktop/nsc-test/vercel-download/src/components/ui/theme-toggler.tsx"],"sourcesContent":["'use client'\n\nimport React, { useState, useEffect } from 'react'\nimport { Zap } from 'lucide-react'\n\nconst themes = [\n  { name: 'dark', label: 'Dark', icon: Zap },\n]\n\nexport const ThemeToggler: React.FC = () => {\n  const [currentTheme, setCurrentTheme] = useState('dark')\n  const [isOpen, setIsOpen] = useState(false)\n\n  useEffect(() => {\n    if (typeof window === 'undefined') return\n    \n    const savedTheme = localStorage.getItem('theme')\n    const isValidTheme = themes.some((theme) => theme.name === savedTheme)\n    const theme = isValidTheme ? savedTheme! : 'dark'\n    if (!isValidTheme) {\n      localStorage.setItem('theme', theme)\n    }\n    setCurrentTheme(theme)\n    document.documentElement.setAttribute('data-theme', theme)\n  }, [])\n\n  const handleThemeChange = (theme: string) => {\n    setCurrentTheme(theme)\n    document.documentElement.setAttribute('data-theme', theme)\n    if (typeof window !== 'undefined') {\n      localStorage.setItem('theme', theme)\n    }\n    setIsOpen(false)\n  }\n\n  const CurrentIcon = themes.find(t => t.name === currentTheme)?.icon || Zap\n\n  return (\n    <div className=\"dropdown dropdown-end\">\n      <label \n        tabIndex={0} \n        className=\"btn btn-ghost btn-circle\"\n        onClick={() => setIsOpen(!isOpen)}\n      >\n        <CurrentIcon className=\"h-5 w-5\" />\n      </label>\n      {isOpen && (\n        <ul tabIndex={0} className=\"dropdown-content z-[1] menu p-2 shadow-lg bg-base-200 rounded-box w-52 mt-3\">\n          <li className=\"menu-title\">\n            <span>Choose Theme</span>\n          </li>\n          {themes.map((theme) => {\n            const Icon = theme.icon\n            return (\n              <li key={theme.name}>\n                <button\n                  className={`flex items-center gap-3 ${currentTheme === theme.name ? 'active' : ''}`}\n                  onClick={() => handleThemeChange(theme.name)}\n                >\n                  <Icon className=\"h-4 w-4\" />\n                  <span>{theme.label}</span>\n                  {currentTheme === theme.name && (\n                    <span className=\"badge badge-primary badge-sm ml-auto\">Active</span>\n                  )}\n                </button>\n              </li>\n            )\n          })}\n        </ul>\n      )}\n    </div>\n  )\n}\n\nexport default ThemeToggler\n"],"names":[],"mappings":";;;;;;;AAEA;AACA;AAHA;;;;AAKA,MAAM,SAAS;IACb;QAAE,MAAM;QAAQ,OAAO;QAAQ,MAAM,uMAAG;IAAC;CAC1C;AAEM,MAAM,eAAyB;IACpC,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,iNAAQ,EAAC;IACjD,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,iNAAQ,EAAC;IAErC,IAAA,kNAAS,EAAC;QACR,wCAAmC;;;QAEnC,MAAM;QACN,MAAM;QACN,MAAM;IAMR,GAAG,EAAE;IAEL,MAAM,oBAAoB,CAAC;QACzB,gBAAgB;QAChB,SAAS,eAAe,CAAC,YAAY,CAAC,cAAc;QACpD;;QAGA,UAAU;IACZ;IAEA,MAAM,cAAc,OAAO,IAAI,CAAC,CAAA,IAAK,EAAE,IAAI,KAAK,eAAe,QAAQ,uMAAG;IAE1E,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBACC,UAAU;gBACV,WAAU;gBACV,SAAS,IAAM,UAAU,CAAC;0BAE1B,cAAA,8OAAC;oBAAY,WAAU;;;;;;;;;;;YAExB,wBACC,8OAAC;gBAAG,UAAU;gBAAG,WAAU;;kCACzB,8OAAC;wBAAG,WAAU;kCACZ,cAAA,8OAAC;sCAAK;;;;;;;;;;;oBAEP,OAAO,GAAG,CAAC,CAAC;wBACX,MAAM,OAAO,MAAM,IAAI;wBACvB,qBACE,8OAAC;sCACC,cAAA,8OAAC;gCACC,WAAW,CAAC,wBAAwB,EAAE,iBAAiB,MAAM,IAAI,GAAG,WAAW,IAAI;gCACnF,SAAS,IAAM,kBAAkB,MAAM,IAAI;;kDAE3C,8OAAC;wCAAK,WAAU;;;;;;kDAChB,8OAAC;kDAAM,MAAM,KAAK;;;;;;oCACjB,iBAAiB,MAAM,IAAI,kBAC1B,8OAAC;wCAAK,WAAU;kDAAuC;;;;;;;;;;;;2BARpD,MAAM,IAAI;;;;;oBAavB;;;;;;;;;;;;;AAKV;uCAEe"}},
    {"offset": {"line": 1434, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/LENOVO/Desktop/nsc-test/vercel-download/src/components/layouts/dashboard-layout.tsx"],"sourcesContent":["'use client'\n\nimport React, { useState } from 'react'\nimport { Sidebar } from '@/components/ui/sidebar'\nimport { ThemeToggler } from '@/components/ui/theme-toggler'\nimport { Menu } from 'lucide-react'\n\ninterface DashboardLayoutProps {\n  children: React.ReactNode\n  user?: {\n    fullName?: string\n    email?: string\n    referralCode?: string\n  }\n}\n\nexport const DashboardLayout: React.FC<DashboardLayoutProps> = ({ children, user }) => {\n  const [isSidebarOpen, setIsSidebarOpen] = useState(false)\n\n  return (\n    <div className=\"min-h-screen bg-black\">\n      <div className=\"flex\">\n        {/* Sidebar - Visible on tablet and up */}\n        <Sidebar isOpen={isSidebarOpen} onClose={() => setIsSidebarOpen(false)} />\n\n        {/* Main Content Area */}\n        <main className=\"flex-1 md:ml-64 w-full min-w-0\">\n          {/* Mobile Menu Toggle */}\n          <div className=\"md:hidden sticky top-0 z-40 p-4 bg-black/95 backdrop-blur-sm border-b border-gray-800 flex items-center justify-between\">\n            <button\n              className=\"text-[#00ff00] hover:bg-[#00ff00]/10 active:bg-[#00ff00]/20 p-2 rounded-lg transition-all active:scale-95\"\n              onClick={() => setIsSidebarOpen(!isSidebarOpen)}\n              aria-label=\"Toggle menu\"\n            >\n              <Menu size={24} />\n            </button>\n            <div className=\"flex items-center gap-2\">\n              <div className=\"w-8 h-8 bg-[#00ff00] rounded-lg flex items-center justify-center\">\n                <span className=\"text-black font-bold text-sm\">N</span>\n              </div>\n              <span className=\"text-white font-bold\">NSC Bot</span>\n            </div>\n          </div>\n\n          {/* Page Content */}\n          <div className=\"p-4 sm:p-6 lg:p-8 max-w-7xl mx-auto w-full\">\n            {children}\n          </div>\n        </main>\n      </div>\n\n      {/* Theme Toggler - Fixed Position */}\n      <div className=\"fixed bottom-6 right-6 z-50\">\n        <ThemeToggler />\n      </div>\n\n      {/* Mobile Sidebar Overlay */}\n      {isSidebarOpen && (\n        <div\n          className=\"fixed inset-0 bg-black/80 backdrop-blur-sm z-40 md:hidden animate-fadeIn\"\n          onClick={() => setIsSidebarOpen(false)}\n          aria-label=\"Close menu\"\n        />\n      )}\n    </div>\n  )\n}\n\nexport default DashboardLayout\n"],"names":[],"mappings":";;;;;;;AAEA;AACA;AACA;AACA;AALA;;;;;;AAgBO,MAAM,kBAAkD,CAAC,EAAE,QAAQ,EAAE,IAAI,EAAE;IAChF,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,iNAAQ,EAAC;IAEnD,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAI,WAAU;;kCAEb,8OAAC,uIAAO;wBAAC,QAAQ;wBAAe,SAAS,IAAM,iBAAiB;;;;;;kCAGhE,8OAAC;wBAAK,WAAU;;0CAEd,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCACC,WAAU;wCACV,SAAS,IAAM,iBAAiB,CAAC;wCACjC,cAAW;kDAEX,cAAA,8OAAC,0MAAI;4CAAC,MAAM;;;;;;;;;;;kDAEd,8OAAC;wCAAI,WAAU;;0DACb,8OAAC;gDAAI,WAAU;0DACb,cAAA,8OAAC;oDAAK,WAAU;8DAA+B;;;;;;;;;;;0DAEjD,8OAAC;gDAAK,WAAU;0DAAuB;;;;;;;;;;;;;;;;;;0CAK3C,8OAAC;gCAAI,WAAU;0CACZ;;;;;;;;;;;;;;;;;;0BAMP,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC,qJAAY;;;;;;;;;;YAId,+BACC,8OAAC;gBACC,WAAU;gBACV,SAAS,IAAM,iBAAiB;gBAChC,cAAW;;;;;;;;;;;;AAKrB;uCAEe"}},
    {"offset": {"line": 1580, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/LENOVO/Desktop/nsc-test/vercel-download/src/lib/utils.ts"],"sourcesContent":["import { type ClassValue, clsx } from \"clsx\"\nimport { twMerge } from \"tailwind-merge\"\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n\nexport function formatCurrency(amount: number): string {\n  return new Intl.NumberFormat('en-US', {\n    style: 'currency',\n    currency: 'USD'\n  }).format(amount)\n}\n\nexport function formatDate(date: Date | string | null | undefined | any): string {\n  if (!date) return 'N/A'\n\n  try {\n    let dateObj: Date\n\n    // Handle various date formats\n    if (date instanceof Date) {\n      dateObj = date\n    } else if (typeof date === 'string') {\n      // Check for empty string\n      if (date.trim() === '') return 'N/A'\n      dateObj = new Date(date)\n    } else if (typeof date === 'number') {\n      // Check for 0 or negative numbers (epoch = 1970)\n      if (date <= 0) return 'N/A'\n      dateObj = new Date(date)\n    } else if (typeof date === 'object' && date !== null) {\n      // Handle objects that might be serialized dates\n      if (typeof date.toISOString === 'function') {\n        dateObj = date as Date\n      } else if (date.date || date.value) {\n        // Handle wrapped date objects\n        dateObj = new Date(date.date || date.value)\n      } else {\n        // Try to convert object to string or use first property\n        const firstValue = Object.values(date)[0]\n        if (typeof firstValue === 'string' || typeof firstValue === 'number') {\n          dateObj = new Date(firstValue as string | number)\n        } else {\n          dateObj = new Date(String(date))\n        }\n      }\n    } else {\n      return 'N/A'\n    }\n\n    // Check if date is valid\n    if (isNaN(dateObj.getTime())) {\n      return 'N/A'\n    }\n\n    // Check if date is epoch (Jan 1, 1970) or before\n    if (dateObj.getTime() < 86400000) { // Less than 1 day after epoch\n      return 'N/A'\n    }\n\n    // Use proper localization with better formatting\n    return new Intl.DateTimeFormat('en-US', {\n      year: 'numeric',\n      month: 'short',\n      day: 'numeric',\n      timeZone: 'UTC' // Use UTC to avoid timezone shifts\n    }).format(dateObj)\n  } catch (error) {\n    console.warn('Date formatting error:', error, 'Date value:', date)\n    return 'N/A'\n  }\n}\n\n/**\n * Format date with time for detailed display\n */\nexport function formatDateTime(date: Date | string | null | undefined | any): string {\n  if (!date) return 'N/A'\n\n  try {\n    let dateObj: Date\n\n    if (date instanceof Date) {\n      dateObj = date\n    } else if (typeof date === 'string') {\n      if (date.trim() === '') return 'N/A'\n      dateObj = new Date(date)\n    } else if (typeof date === 'number') {\n      if (date <= 0) return 'N/A'\n      dateObj = new Date(date)\n    } else {\n      dateObj = new Date(String(date))\n    }\n\n    if (isNaN(dateObj.getTime()) || dateObj.getTime() < 86400000) {\n      return 'N/A'\n    }\n\n    return new Intl.DateTimeFormat('en-US', {\n      year: 'numeric',\n      month: 'short',\n      day: 'numeric',\n      hour: '2-digit',\n      minute: '2-digit',\n      hour12: true,\n      timeZone: 'UTC'\n    }).format(dateObj)\n  } catch (error) {\n    console.warn('DateTime formatting error:', error)\n    return 'N/A'\n  }\n}\n\nexport function truncateAddress(address: string): string {\n  if (!address) return ''\n  return `${address.substring(0, 6)}...${address.substring(address.length - 4)}`\n}\n\nexport function daysBetween(date1: Date, date2: Date): number {\n  const diff = Math.abs(date2.getTime() - date1.getTime())\n  return Math.ceil(diff / (1000 * 60 * 60 * 24))\n}\n\n/**\n * Safe localStorage getter that works during SSR\n * Returns null if localStorage is not available (during SSR/build)\n */\nexport function getFromLocalStorage(key: string): string | null {\n  if (typeof window === 'undefined') {\n    return null\n  }\n  try {\n    return localStorage.getItem(key)\n  } catch (error) {\n    console.error('Error accessing localStorage:', error)\n    return null\n  }\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1714, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/LENOVO/Desktop/nsc-test/vercel-download/src/components/ui/button.tsx"],"sourcesContent":["import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center whitespace-nowrap rounded-lg text-sm font-semibold ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[#00ff00] focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 active:scale-95\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-[#00ff00] text-black hover:bg-[#00cc00] shadow-md hover:shadow-lg\",\n        destructive:\n          \"bg-red-600 text-white hover:bg-red-700\",\n        outline:\n          \"border-2 border-[#00ff00] bg-transparent text-[#00ff00] hover:bg-[#00ff00] hover:text-black\",\n        secondary:\n          \"bg-gray-800 text-white hover:bg-gray-700\",\n        ghost: \"text-gray-300 hover:bg-gray-800 hover:text-white\",\n        link: \"text-[#00ff00] underline-offset-4 hover:underline hover:text-[#00cc00]\",\n      },\n      size: {\n        default: \"h-10 px-4 py-2\",\n        sm: \"h-9 rounded-lg px-3 text-xs\",\n        lg: \"h-12 rounded-lg px-8 text-base\",\n        icon: \"h-10 w-10\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  },\n)\n\nexport interface ButtonProps\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\n    VariantProps<typeof buttonVariants> {\n  asChild?: boolean\n}\n\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ className, variant, size, asChild = false, ...props }, ref) => {\n    const Comp = asChild ? Slot : \"button\"\n    return (\n      <Comp\n        className={cn(buttonVariants({ variant, size, className }))}\n        ref={ref}\n        {...props}\n      />\n    )\n  },\n)\nButton.displayName = \"Button\"\n\nexport { Button, buttonVariants }\n"],"names":[],"mappings":";;;;;;;AAAA;AACA;AACA;AAEA;;;;;;AAEA,MAAM,iBAAiB,IAAA,uKAAG,EACxB,8SACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;YACF,SACE;YACF,WACE;YACF,OAAO;YACP,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;QACR;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AASF,MAAM,uBAAS,mNAAgB,CAC7B,CAAC,EAAE,SAAS,EAAE,OAAO,EAAE,IAAI,EAAE,UAAU,KAAK,EAAE,GAAG,OAAO,EAAE;IACxD,MAAM,OAAO,UAAU,wKAAI,GAAG;IAC9B,qBACE,8OAAC;QACC,WAAW,IAAA,kHAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QACxD,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;AAEF,OAAO,WAAW,GAAG"}},
    {"offset": {"line": 1774, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/LENOVO/Desktop/nsc-test/vercel-download/src/components/ui/error-boundary.tsx"],"sourcesContent":["'use client'\r\n\r\nimport React, { Component, ReactNode } from 'react'\r\nimport { AlertTriangle, RefreshCw } from 'lucide-react'\r\nimport { Button } from './button'\r\n\r\ninterface Props {\r\n  children: ReactNode\r\n  fallback?: ReactNode\r\n  onError?: (error: Error, errorInfo: React.ErrorInfo) => void\r\n}\r\n\r\ninterface State {\r\n  hasError: boolean\r\n  error: Error | null\r\n}\r\n\r\nexport class ErrorBoundary extends Component<Props, State> {\r\n  constructor(props: Props) {\r\n    super(props)\r\n    this.state = { hasError: false, error: null }\r\n  }\r\n\r\n  static getDerivedStateFromError(error: Error): State {\r\n    return { hasError: true, error }\r\n  }\r\n\r\n  componentDidCatch(error: Error, errorInfo: React.ErrorInfo) {\r\n    // Log error only in development\r\n    if (process.env.NODE_ENV === 'development') {\r\n      console.error('Error Boundary caught:', error, errorInfo)\r\n    }\r\n    \r\n    // Call custom error handler if provided\r\n    this.props.onError?.(error, errorInfo)\r\n  }\r\n\r\n  handleReset = () => {\r\n    this.setState({ hasError: false, error: null })\r\n  }\r\n\r\n  render() {\r\n    if (this.state.hasError) {\r\n      // Use custom fallback if provided\r\n      if (this.props.fallback) {\r\n        return this.props.fallback\r\n      }\r\n\r\n      // Default error UI\r\n      return (\r\n        <div className=\"min-h-[400px] flex items-center justify-center p-6\">\r\n          <div className=\"text-center max-w-md\">\r\n            <div className=\"w-16 h-16 bg-red-500/20 rounded-full flex items-center justify-center mx-auto mb-4\">\r\n              <AlertTriangle className=\"h-8 w-8 text-red-500\" />\r\n            </div>\r\n            <h3 className=\"text-xl font-semibold mb-2\">Something went wrong</h3>\r\n            <p className=\"text-muted-foreground mb-6\">\r\n              We encountered an unexpected error. Please try refreshing the page.\r\n            </p>\r\n            {process.env.NODE_ENV === 'development' && this.state.error && (\r\n              <div className=\"bg-gray-900 text-left p-4 rounded-lg mb-4 text-sm font-mono text-red-400 overflow-auto max-h-32\">\r\n                {this.state.error.toString()}\r\n              </div>\r\n            )}\r\n            <Button onClick={this.handleReset} className=\"gap-2\">\r\n              <RefreshCw className=\"h-4 w-4\" />\r\n              Try Again\r\n            </Button>\r\n          </div>\r\n        </div>\r\n      )\r\n    }\r\n\r\n    return this.props.children\r\n  }\r\n}\r\n\r\n// Simpler functional wrapper for common use cases\r\nexport function withErrorBoundary<P extends object>(\r\n  Component: React.ComponentType<P>,\r\n  fallback?: ReactNode\r\n) {\r\n  return function WithErrorBoundaryWrapper(props: P) {\r\n    return (\r\n      <ErrorBoundary fallback={fallback}>\r\n        <Component {...props} />\r\n      </ErrorBoundary>\r\n    )\r\n  }\r\n}\r\n"],"names":[],"mappings":";;;;;;;AAEA;AACA;AAAA;AACA;AAJA;;;;;AAiBO,MAAM,sBAAsB,kNAAS;IAC1C,YAAY,KAAY,CAAE;QACxB,KAAK,CAAC;QACN,IAAI,CAAC,KAAK,GAAG;YAAE,UAAU;YAAO,OAAO;QAAK;IAC9C;IAEA,OAAO,yBAAyB,KAAY,EAAS;QACnD,OAAO;YAAE,UAAU;YAAM;QAAM;IACjC;IAEA,kBAAkB,KAAY,EAAE,SAA0B,EAAE;QAC1D,gCAAgC;QAChC,wCAA4C;YAC1C,QAAQ,KAAK,CAAC,0BAA0B,OAAO;QACjD;QAEA,wCAAwC;QACxC,IAAI,CAAC,KAAK,CAAC,OAAO,GAAG,OAAO;IAC9B;IAEA,cAAc;QACZ,IAAI,CAAC,QAAQ,CAAC;YAAE,UAAU;YAAO,OAAO;QAAK;IAC/C,EAAC;IAED,SAAS;QACP,IAAI,IAAI,CAAC,KAAK,CAAC,QAAQ,EAAE;YACvB,kCAAkC;YAClC,IAAI,IAAI,CAAC,KAAK,CAAC,QAAQ,EAAE;gBACvB,OAAO,IAAI,CAAC,KAAK,CAAC,QAAQ;YAC5B;YAEA,mBAAmB;YACnB,qBACE,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAI,WAAU;sCACb,cAAA,8OAAC,yOAAa;gCAAC,WAAU;;;;;;;;;;;sCAE3B,8OAAC;4BAAG,WAAU;sCAA6B;;;;;;sCAC3C,8OAAC;4BAAE,WAAU;sCAA6B;;;;;;wBAGzC,oDAAyB,iBAAiB,IAAI,CAAC,KAAK,CAAC,KAAK,kBACzD,8OAAC;4BAAI,WAAU;sCACZ,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,QAAQ;;;;;;sCAG9B,8OAAC,qIAAM;4BAAC,SAAS,IAAI,CAAC,WAAW;4BAAE,WAAU;;8CAC3C,8OAAC,6NAAS;oCAAC,WAAU;;;;;;gCAAY;;;;;;;;;;;;;;;;;;QAM3C;QAEA,OAAO,IAAI,CAAC,KAAK,CAAC,QAAQ;IAC5B;AACF;AAGO,SAAS,kBACd,SAAiC,EACjC,QAAoB;IAEpB,OAAO,SAAS,yBAAyB,KAAQ;QAC/C,qBACE,8OAAC;YAAc,UAAU;sBACvB,cAAA,8OAAC;gBAAW,GAAG,KAAK;;;;;;;;;;;IAG1B;AACF"}},
    {"offset": {"line": 1923, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/LENOVO/Desktop/nsc-test/vercel-download/src/app/%28dashboard%29/layout.tsx"],"sourcesContent":["'use client'\n\nimport { useEffect, useState } from 'react'\nimport { useRouter } from 'next/navigation'\nimport { DashboardLayout } from '@/components/layouts/dashboard-layout'\nimport { ErrorBoundary } from '@/components/ui/error-boundary'\nimport { useAuth } from '@/hooks/useAuth'\nimport { getTokenFromStorage, getUserFromToken } from '@/lib/auth'\n\nexport default function DashboardLayoutWrapper({\n  children,\n}: {\n  children: React.ReactNode\n}) {\n  const router = useRouter()\n  const { user, setUser, isAuthenticated } = useAuth()\n  const [isLoading, setIsLoading] = useState(true)\n  const [isValidToken, setIsValidToken] = useState(false)\n\n  useEffect(() => {\n    const validateToken = async () => {\n      try {\n        const token = getTokenFromStorage()\n\n        if (!token) {\n          setIsLoading(false)\n          return\n        }\n\n        // First try client-side validation (faster)\n        const userFromToken = getUserFromToken()\n\n        if (userFromToken) {\n          // Server-side validation for security\n          try {\n            const response = await fetch('/api/auth/validate', {\n              method: 'POST',\n              headers: {\n                'Authorization': `Bearer ${token}`,\n                'Content-Type': 'application/json'\n              }\n            })\n\n            if (response.ok) {\n              const data = await response.json()\n              if (data.valid) {\n                // Set user in store if not already set\n                if (!user) {\n                  setUser(userFromToken)\n                }\n                setIsValidToken(true)\n                setIsLoading(false)\n                return\n              }\n            }\n          } catch (serverError) {\n            // Fall back to client-side validation if server is unavailable\n            if (!user) {\n              setUser(userFromToken)\n            }\n            setIsValidToken(true)\n            setIsLoading(false)\n            return\n          }\n        }\n\n        // Token is invalid, clear it\n        if (typeof window !== 'undefined') {\n          localStorage.removeItem('token')\n          localStorage.removeItem('refreshToken')\n        }\n        setIsLoading(false)\n\n      } catch (error) {\n        // Clear invalid tokens\n        if (typeof window !== 'undefined') {\n          localStorage.removeItem('token')\n          localStorage.removeItem('refreshToken')\n        }\n        setIsLoading(false)\n      }\n    }\n\n    validateToken()\n  }, [user, setUser])\n\n  // Show loading while validating token\n  if (isLoading) {\n    return (\n      <div className=\"flex items-center justify-center min-h-screen bg-black\">\n        <div className=\"text-center\">\n          <div className=\"animate-spin rounded-full h-12 w-12 border-4 border-gray-800 border-t-[#00ff00] mx-auto\"></div>\n          <p className=\"mt-4 text-gray-400\">Validating session...</p>\n        </div>\n      </div>\n    )\n  }\n\n  // Redirect if not authenticated\n  if (!isValidToken || !isAuthenticated) {\n    router.push('/login')\n    return (\n      <div className=\"flex items-center justify-center min-h-screen bg-black\">\n        <div className=\"text-center\">\n          <div className=\"animate-spin rounded-full h-12 w-12 border-4 border-gray-800 border-t-[#00ff00] mx-auto\"></div>\n          <p className=\"mt-4 text-gray-400\">Redirecting to login...</p>\n        </div>\n      </div>\n    )\n  }\n\n  return (\n    <ErrorBoundary>\n      <DashboardLayout user={user}>\n        {children}\n      </DashboardLayout>\n    </ErrorBoundary>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AACA;AAPA;;;;;;;;AASe,SAAS,uBAAuB,EAC7C,QAAQ,EAGT;IACC,MAAM,SAAS,IAAA,+IAAS;IACxB,MAAM,EAAE,IAAI,EAAE,OAAO,EAAE,eAAe,EAAE,GAAG,IAAA,2HAAO;IAClD,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,iNAAQ,EAAC;IAC3C,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,iNAAQ,EAAC;IAEjD,IAAA,kNAAS,EAAC;QACR,MAAM,gBAAgB;YACpB,IAAI;gBACF,MAAM,QAAQ,IAAA,kIAAmB;gBAEjC,IAAI,CAAC,OAAO;oBACV,aAAa;oBACb;gBACF;gBAEA,4CAA4C;gBAC5C,MAAM,gBAAgB,IAAA,+HAAgB;gBAEtC,IAAI,eAAe;oBACjB,sCAAsC;oBACtC,IAAI;wBACF,MAAM,WAAW,MAAM,MAAM,sBAAsB;4BACjD,QAAQ;4BACR,SAAS;gCACP,iBAAiB,CAAC,OAAO,EAAE,OAAO;gCAClC,gBAAgB;4BAClB;wBACF;wBAEA,IAAI,SAAS,EAAE,EAAE;4BACf,MAAM,OAAO,MAAM,SAAS,IAAI;4BAChC,IAAI,KAAK,KAAK,EAAE;gCACd,uCAAuC;gCACvC,IAAI,CAAC,MAAM;oCACT,QAAQ;gCACV;gCACA,gBAAgB;gCAChB,aAAa;gCACb;4BACF;wBACF;oBACF,EAAE,OAAO,aAAa;wBACpB,+DAA+D;wBAC/D,IAAI,CAAC,MAAM;4BACT,QAAQ;wBACV;wBACA,gBAAgB;wBAChB,aAAa;wBACb;oBACF;gBACF;gBAEA,6BAA6B;gBAC7B;;gBAIA,aAAa;YAEf,EAAE,OAAO,OAAO;gBACd,uBAAuB;gBACvB;;gBAIA,aAAa;YACf;QACF;QAEA;IACF,GAAG;QAAC;QAAM;KAAQ;IAElB,sCAAsC;IACtC,IAAI,WAAW;QACb,qBACE,8OAAC;YAAI,WAAU;sBACb,cAAA,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAI,WAAU;;;;;;kCACf,8OAAC;wBAAE,WAAU;kCAAqB;;;;;;;;;;;;;;;;;IAI1C;IAEA,gCAAgC;IAChC,IAAI,CAAC,gBAAgB,CAAC,iBAAiB;QACrC,OAAO,IAAI,CAAC;QACZ,qBACE,8OAAC;YAAI,WAAU;sBACb,cAAA,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAI,WAAU;;;;;;kCACf,8OAAC;wBAAE,WAAU;kCAAqB;;;;;;;;;;;;;;;;;IAI1C;IAEA,qBACE,8OAAC,uJAAa;kBACZ,cAAA,8OAAC,gKAAe;YAAC,MAAM;sBACpB;;;;;;;;;;;AAIT"}}]
}